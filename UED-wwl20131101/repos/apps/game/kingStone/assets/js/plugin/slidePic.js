(function(a){a.extend(a.fn,{slidePic:function(g){var t={slideWrap:".slideWrap",slidePanel:".pic",slideItem:".pic a",handlePanel:".handle",handleItem:".handle>span",circle:false,auto:false,speed:500,circleTime:3000,prev:".prev",next:".next",curHandleCla:"on",isBounce:false,isTouch:true},d=a.extend(t,g);var A=a(this),m,e=A.find(d.slideWrap),c=A.find(d.slidePanel),q=A.find(d.slideItem),w=q.length,u=q.width(),i=u*w,l=A.width(),x=d.itemWidth||u,h=Math.round(x/4),o=x!=u,f=a(d.handlePanel),k=a(d.handleItem),p=a(d.prev),s=a(d.next);if(!A[0]){return;}if(w<=1){f.hide();return;}c.width(i);w=o?Math.ceil(u*w/x):w;A.data("curIndex",d.fixCurrent?d.fixCurrent():0);var v=c[0].style,y=parseInt(A.data("curIndex")),r=y*x;if(d.specialWidth){var z=u-(l-u)/2;r=y==0?0:(y-1)*u+z;}v.MozTransform=v.webkitTransform="translate3d("+(-r)+"px,0,0)";v.msTransform=v.OTransform="translateX("+(-r)+"px)";A.data("curPosition",r);k.removeClass(d.curHandleCla).eq(y).addClass(d.curHandleCla);p.on("click",function(){var C=A.data("curIndex"),B=parseInt(C)-1;b(B,"right",x);});s.on("click",function(){var C=A.data("curIndex"),B=parseInt(C)+1;b(B,"left",x);});if(d.auto||d.circle){n();}if(d.isTouch==true){c.swipe({swipeStatus:function(C,B,F,G,E,D){if(B=="start"||B=="move"){clearTimeout(m);if(F=="up"||F=="down"){return;}j(F,G);}else{if(F=="up"||F=="down"){return;}b(parseInt(A.data("curIndex")),F,G);if(d.auto){n();}}},threshold:h,maxTimeThreshold:x,triggerOnTouchEnd:true,allowPageScroll:"vertical"});}function n(){m=setTimeout(function(){curIndex=parseInt(A.data("curIndex"))+1;b(curIndex,"left");n();},d.circleTime);}function b(J,F,B,G){var C=c[0].style,E,H,D;if(!G){G=d.speed;}if(B){J=B<h?J:(F=="left"?J+1:J-1);}C.MozTransitionDuration=C.msTransitionDuration=C.OTransitionDuration=C.webkitTransitionDuration=C.transitionDuration=G+"ms";if(J>=w&&F=="left"){var L=w-1;if(d.afterLast){d.afterLast();}if(d.circle){H=0;E=0;C.MozTransitionDuration=C.msTransitionDuration=C.OTransitionDuration=C.webkitTransitionDuration=C.transitionDuration="1ms";C.MozTransform=C.webkitTransform="translate3d("+E+"px,0,0)";C.msTransform=C.OTransform="translateX("+E+"px)";}else{if(d.isBounce){H=L;E=H*x;C.MozTransform=C.webkitTransform="translate3d("+(-(E+x/2))+"px,0,0)";C.msTransform=C.OTransform="translateX("+(-(E+x/2))+"px)";D=setTimeout(function(){C.MozTransform=C.webkitTransform="translate3d("+(-E)+"px,0,0)";C.msTransform=C.OTransform="translateX("+(-E)+"px)";A.data("curPosition",E).data("curIndex",H);k.removeClass(d.curHandleCla).eq(H).addClass(d.curHandleCla);},d.speed);}else{H=L;E=o||d.specialWidth?i-l:H*x;C.MozTransform=C.webkitTransform="translate3d("+(-E)+"px,0,0)";C.msTransform=C.OTransform="translateX("+(-E)+"px)";}}}else{if(J<0&&F=="right"){if(d.beforeFirst){d.beforeFirst();}H=0;E=0;if(d.isBounce){C.MozTransform=C.webkitTransform="translate3d("+x/2+"px,0,0)";C.msTransform=C.OTransform="translateX("+x/2+"px)";D=setTimeout(function(){C.MozTransform=C.webkitTransform="translate3d("+E+"px,0,0)";C.msTransform=C.OTransform="translateX("+E+"px)";A.data("curPosition",E).data("curIndex",H);k.removeClass(d.curHandleCla).eq(H).addClass(d.curHandleCla);},d.speed);}else{C.MozTransform=C.webkitTransform="translate3d("+E+"px,0,0)";C.msTransform=C.OTransform="translateX("+E+"px)";}}else{H=J;if(i-H*x<l){w=H+1;E=i-l;C.MozTransform=C.webkitTransform="translate3d("+(-E)+"px,0,0)";C.msTransform=C.OTransform="translateX("+(-E)+"px)";}else{if(d.specialWidth){var K=u-(l-u)/2,I=H-1;E=I==-1?0:I*u+K;C.MozTransform=C.webkitTransform="translate3d("+(-E)+"px,0,0)";C.msTransform=C.OTransform="translateX("+(-E)+"px)";}else{E=H*x;C.MozTransform=C.webkitTransform="translate3d("+(-E)+"px,0,0)";C.msTransform=C.OTransform="translateX("+(-E)+"px)";}}}}if(!D){A.data("curPosition",E).data("curIndex",H);k.removeClass(d.curHandleCla).eq(H).addClass(d.curHandleCla);}J<=0?p.hide():p.show();J>=w-1?s.hide():s.show();}function j(E,I,G){var F=c[0].style,D=A.data("curIndex")||0,H=parseInt(A.data("curPosition")||0);if(!G){G=0;}if(!d.isBounce&&D==0&&E=="right"||!d.isBounce&&D==w-1&&E=="left"){return;}F.MozTransitionDuration=F.msTransitionDuration=F.OTransitionDuration=F.webkitTransitionDuration=F.transitionDuration=G+"ms";var C=E=="left"?I:-I;if(i-D*x<l){var B=i-l;F.MozTransform=F.webkitTransform="translate3d("+(-(B+C))+"px,0,0)";F.msTransform=F.OTransform="translateX("+(-(B+C))+"px)";}else{F.MozTransform=F.webkitTransform="translate3d("+(-(H+C))+"px,0,0)";F.msTransform=F.OTransform="translateX("+(-(H+C))+"px)";}}}});})(jQuery);