(function(a){var b=a.Event;a.app("GNnav",function(){return{version:"1.0"}});a.mix(GNnav,{init:function(){a.include(["lib/zepto/zepto.js"],function(){b.on(".J_nav_title","click",function(){var k=$(this),h=$(".J_nav_title"),m=$(".J_nav_content"),l=k.data("last"),j=k.next(),i=h.index(k);l==true?k.addClass("ui-nav-last"):"";if(j.hasClass("ishide")){m.addClass("ishide");j.removeClass("ishide");h.removeClass("ui-nav-arrow");k.addClass("ui-nav-arrow")}else{j.addClass("ishide");k.removeClass("ui-nav-arrow")}$(window).scrollTop(k.height()*i+5)});var f,c=false,g,e,d=function(){clearTimeout(g);if(f&&(e=f.attr("highlight-cls"))){f.removeClass(e).attr("highlight-cls","");f=null}};$.fn.highlight=function(h){c=c||!!$(document).on("touchend.highlight touchmove.highlight touchcancel.highlight",d);d();h&&$(this).delegate("a","touchstart.highlight",function(){var i=$(this);g=setTimeout(function(){f=i.attr("highlight-cls",h).addClass(h)},100)})};$(".J_nav_content").highlight("highlight")})},getNavData:function(d,e,c){$.ajax({type:"GET",url:d,dataType:"json",success:function(h){e.addClass("done").html("");var i=h.data.list.data,f=[],g;$.each(i,function(j,k){g='<li>									<a href="'+k.link+'" highlight-cls="highlight" style="-webkit-tap-highlight-color: rgba(255, 255, 255, 0);">										<div>											<img src="'+k.icon+'" />											<span>'+k.name+"</span>										</div>									</a>								</li>";f.push(g)});e.append(f.join(""))}})}});GNnav.init()})(ICAT);
