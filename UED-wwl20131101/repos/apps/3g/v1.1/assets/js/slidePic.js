(function(a){a.extend(a.fn,{slidePic:function(g){var q={slideWrap:".slideWrap",slidePanel:".pic",slideItem:".pic a",handlePanel:".handle",handleItem:".handle>span",circle:false,auto:false,speed:500,circleTime:3000,prev:".prev",next:".next",curHandleCla:"on",touchSwitch:true},d=a.extend(q,g);var u=a(this),k,e=u.find(d.slideWrap),c=u.find(d.slidePanel),n=u.find(d.slideItem),r=n.length,t=n.width(),h=Math.round(t/4),f=a(d.handlePanel),j=a(d.handleItem),o=a(d.prev),p=a(d.next);if(!u[0]){return}if(r<=1){f.hide();return}else{if(d.fixCurrent){u.data("curIndex",d.fixCurrent())}else{u.data("curIndex",0)}c.width(t*r);var s=c[0].style,m=parseInt(u.data("curIndex"));s.MozTransform=s.webkitTransform="translate3d("+(-m*t)+"px,0,0)";s.msTransform=s.OTransform="translateX("+(-m*t)+"px)";j.removeClass(d.curHandleCla).eq(m).addClass(d.curHandleCla)}o.on("click",function(){var w=u.data("curIndex"),v=parseInt(w)-1;b(v,"right")});p.on("click",function(){var w=u.data("curIndex"),v=parseInt(w)+1;b(v,"left")});if(d.auto){l()}if(d.touchSwitch){c.swipe({swipeStatus:function(w,v,z,A,y,x){if(v=="start"||v=="move"){clearTimeout(k);i(z,A)}else{b(parseInt(u.data("curIndex")),z,A);if(d.auto){l()}}},threshold:h,maxTimeThreshold:t,triggerOnTouchEnd:true,allowPageScroll:"vertical"})}function l(){k=setTimeout(function(){curIndex=parseInt(u.data("curIndex"))+1;b(curIndex,"left");l()},d.circleTime)}function b(x,w,A,z){if(w=="up"||w=="down"){return}var y=c[0].style;if(!z){z=d.speed}if(A){x=A<h?x:(w=="left"?x+1:x-1)}y.MozTransitionDuration=y.msTransitionDuration=y.OTransitionDuration=y.webkitTransitionDuration=y.transitionDuration=z+"ms";if(x>=r){var v=r-1;if(d.circle&&w=="left"){y.MozTransitionDuration=y.msTransitionDuration=y.OTransitionDuration=y.webkitTransitionDuration=y.transitionDuration="1ms";y.MozTransform=y.webkitTransform="translate3d(0px,0,0)";y.msTransform=y.OTransform="translateX(0px)";u.data("curIndex",0);j.removeClass(d.curHandleCla).eq(0).addClass(d.curHandleCla)}else{if(!d.circle&&w=="left"){y.MozTransform=y.webkitTransform="translate3d("+(-(v*t+t/2))+"px,0,0)";y.msTransform=y.OTransform="translateX("+(-(v*t+t/2))+"px)";setTimeout(function(){y.MozTransform=y.webkitTransform="translate3d("+(-v*t)+"px,0,0)";y.msTransform=y.OTransform="translateX("+(-v*t)+"px)";u.data("curIndex",v);j.removeClass(d.curHandleCla).eq(v).addClass(d.curHandleCla)},d.speed)}else{y.MozTransform=y.webkitTransform="translate3d("+(-v*t)+"px,0,0)";y.msTransform=y.OTransform="translateX("+(-v*t)+"px)";u.data("curIndex",v);j.removeClass(d.curHandleCla).eq(v).addClass(d.curHandleCla)}}}else{if(x<0){if(w=="right"){y.MozTransform=y.webkitTransform="translate3d("+t/2+"px,0,0)";y.msTransform=y.OTransform="translateX("+t/2+"px)";setTimeout(function(){y.MozTransform=y.webkitTransform="translate3d(0px,0,0)";y.msTransform=y.OTransform="translateX(0px)";u.data("curIndex",0);j.removeClass(d.curHandleCla).eq(0).addClass(d.curHandleCla)},d.speed)}else{y.MozTransform=y.webkitTransform="translate3d(0px,0,0)";y.msTransform=y.OTransform="translateX(0px)";u.data("curIndex",0);j.removeClass(d.curHandleCla).eq(0).addClass(d.curHandleCla)}}else{y.MozTransform=y.webkitTransform="translate3d("+(-x*t)+"px,0,0)";y.msTransform=y.OTransform="translateX("+(-x*t)+"px)";u.data("curIndex",x);j.removeClass(d.curHandleCla).eq(x).addClass(d.curHandleCla)}}}function i(x,A,z){var y=c[0].style,w=u.data("curIndex")||0;if(!z){z=d.speed}y.MozTransitionDuration=y.msTransitionDuration=y.OTransitionDuration=y.webkitTransitionDuration=y.transitionDuration="";var v=x=="left"?A:-A;y.MozTransform=y.webkitTransform="translate3d("+(-(w*t+v))+"px,0,0)";y.msTransform=y.OTransform="translateX("+(-(w*t+v))+"px)"}}})})(Zepto);
