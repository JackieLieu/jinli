/*!
 * @module gionee's ebook
 * @author valleykid(valleykiddy@gmail.com)
 * @date 2012-08-14
 */
(function(a,b){a.app("EBOOK",function(){return{version:"1.0"}});a.mix(EBOOK,{scrollPic:function(){a.include("/jtouchSwipe/jtouchSwipe.js",function(){if(!b(".J_scrollPic")[0]){return}var g=[a.appRef+"/pic/cover.jpg|",a.appRef+"/pic/3.jpg|",a.appRef+"/pic/2.jpg|article_jiaoqiao.php",a.appRef+"/pic/1.jpg|article_daxiong.php",a.appRef+"/pic/4.jpg|article_xinjie.php",a.appRef+"/pic/5.jpg|article_tangguo.php",a.appRef+"/pic/6.jpg|article_lushang.php"],k=b(".J_scrollPic .pic"),j=k.next(".more"),f=k.width(),h=0,d=g.length;k.swipe({swipeLeft:e,swipeRight:c,allowPageScroll:"auto"});function e(){if(h>=d-1){h=d-1;return false}else{h++}var i=g[h].split("|");k.append('<a class="loading" href="'+i[1]+'" style="z-index:'+h+';"><img src="'+a.appRef+'/pic/loading.gif" alt="" /></a>');setTimeout(function(){k.find("a:eq(1)").removeClass("loading").html('<img src="'+i[0]+'" alt="" />')},800);b("a:eq(0)",this).css("z-index",h+1).animate({left:-f+"px"},1000,function(){b(this).remove();j.find("a").attr("href",i[1]);h==0?j.hide():j.show()});return false}function c(){if(h<=0){h=0;return false}else{h--}var i=g[h].split("|");k.append('<a href="'+i[1]+'" style="z-index:'+h+"; left:-"+f+'px;"><img src="'+i[0]+'" alt="" /></a>');b("a:eq(0)",this).css("z-index",h-1);b("a:eq(1)",this).animate({left:0},1000,function(){b(this).prev("a").remove();j.find("a").attr("href",i[1]);h==0?j.hide():j.show()});return false}})}});b(function(){EBOOK.scrollPic()})})(ICAT,jQuery);
