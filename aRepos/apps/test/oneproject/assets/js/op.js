/*!
 * @module One project
 * @author jndream221@gmail.com
 * @date 2012-04-26 17:16:30
 */
(function(a){a.app("OP",function(){a.inc("../op.css");a.mix(a.mods,{ui:[".~/jqueryui/uicore.css",".~/jqueryui/core.js"]});return{version:"1.0"}});a.mix(OP,{richEdit:function(){if(!$("#test")[0]){return}a.require("richEdit",["../editSkin.css",".~/richedit/core.js"],function(){$("#test").wysiwyg()})},validform:function(){if(!$(".registerform")[0]){return}a.include([".~/validform/vfskin.css",".~/validform/core.js"],function(){$(".registerform").Validform({tiptype:2})})},dialog:function(){if(!$("#dialog")[0]){return}$("#J_showDialog").click(function(b){b.preventDefault();a.require("ui",[".~/jqueryui/uicore.css",".~/jqueryui/core.js"],function(){$.fx.speeds._default=1000;$("#dialog").dialog({autoOpen:false,show:"blind",hide:"explode"}).dialog("open")})})},draggable:function(){if(!$("#draggable")[0]){return}a.use("ui",function(){$("#draggable").draggable()})},dragLayout:function(){if(!$(".JS-dragBox")[0]){return}a.use("ui",function(){var c=$("#JS-mainZone"),b=c.find(".JS-dragBox");c.sortable({containment:"#JS-mainZone",connectWith:".JS-dragBox",placeholder:"ui-sortable-placeholder",handle:"h2",cursor:"move",opacity:0.6,update:function(d,e){alert(c.sortable("toArray"))}});b.find("a").click(function(d){d.preventDefault();$(this.parentNode).remove()});$(".J_addModel").click(function(d){d.preventDefault();c.append('<div class="JS-dragBox" id="m5"><h2>\u6a21\u5757\u4e94</h2></div>')})})},chart:function(c,d,b){if(!$("#J_pieWrap")[0]){return}a.include(".~/highcharts/hc.js",function(){var e=OP.ch=new Highcharts.Chart({chart:{renderTo:"J_pieWrap",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:false},title:{text:"Browser market shares at a specific website, 2010",style:{color:"red",fontWeight:"bold",display:"none"}},tooltip:{formatter:function(){return"<b>"+this.point.name+"\u5e02\u573a\u5360\u6709\u7387</b>: "+this.point.config[1]+" %"}},credits:{enabled:false},plotOptions:{pie:{allowPointSelect:true,showInLegend:true,cursor:"pointer"},line:{}},legend:{layout:"vertical",align:"left",floating:true,backgroundColor:"#FFFFFF",style:{left:"450px",top:"60px"},text:"000"},series:[{type:c,name:b||"X-values",data:d,dataLabels:{enabled:true,color:"black",distance:-40,formatter:function(){var g=this.percentage,f;if(c=="pie"){f=g>10?this.point.name:(g>1?g:"")}else{f=this.point.name}return f}}}]})})}});$(function(){OP.richEdit();OP.dialog();OP.validform();OP.draggable();OP.dragLayout();OP.chart("column",[["Firefox",45],["IE",26.8],["Chrome",12.8],["Safari",8.5],["Opera",6.2],["Others",0.7]],"Browser");a.use("richEdit",function(){$("#test2").wysiwyg()})})})(ICAT);
