(function(a,c){function b(){this.sHtml='<div class="popWrap msgMode hide" style="opacity:0;left:'+this.getPos().left+"px;top:"+this.getPos().top+'px;"></div>';this.wrap=c("#iScroll")}b.prototype={construtor:b,templete:function(){c("#iScroll").append(this.sHtml)},message:function(h,f){var g=c(".msgMode");if(!c("#iScroll").find(".msgMode")[0]){this.templete()}c(".msgMode").html(h);c(".msgMode").removeClass("hide").addClass("show").animate({opacity:1},300,"linear");if(c(".msgMode").hasClass("show")){setTimeout(function(){c(".msgMode").animate({opacity:0},300,"linear",function(){c(".msgMode").removeClass("show").addClass("hide")})},1500)}return f},getPos:function(){var f=c(window).width(),g=c(window).height();return{left:f/2-80,top:g-100}}};var d=new b();var e={order:{createdOrder:"订单已生成！",cneeInfoNull:"请完善收货人信息！",stopBuyTips:"您已经购买过了，此商品每人限购1个，再看看其他的吧。",cneeNameNull:"请填写收货人！",cneePhoneNull:"请填写联系方式！",cneeAddressNull:"请填写收货地址！",cneePostCodeNull:"请填写邮政编码！",cneeProvinceNull:"请选择省份！",cneeCityNull:"请选择城市！",accountUmidNull:"请输入帐号！",accountUnameNull:"请输入姓名！",phoneNull:"请填写您的充值号码",phoneNotConfirm:"两次输入不一致"},GOU_tips1:"商品加入心愿清单了！",GOU_tips2:"心愿清单中已有些商品。",GOU_tips3:"此商品每人限购一件哦！",GOU_tips4:"活动结束",GOU_tips5:"您已领取过，下次再来！",GOU_tips6:"请勿重复操作！",GOU_tips7:"服务器繁忙,请稍后重试！",GOU_tips8:"已到最后一页",GOU_tips9:"请勿频繁操作！",GOU_tips10:"反馈内容超过500字！",GOU_error1:"请填写正确的邮政编码！",GOU_error2:"请填写正确的11位手机号！",noLoginTip:"请登录!",feedbackNull:"内容不能为空！",resendInfo:"请勿重复提交！",realnameNull:"姓名不能为空！",bornDateNull:"请选择出生年月日！"};a.app("GOU",function(){return{version:"0.9.3",isLogin:false,currTime:0}});a.mix(GOU,{init:function(){this.saveForm()},checkForm:function(){var g={realname:c("input[name=realname]"),byear:c("select[name=year]"),bmonth:c("select[name=month]"),bday:c("select[name=day]")};var f=null;if(g.realname&&g.realname.val()==""){return d.message(e.realnameNull,false)}if(g.byear&&g.byear.val()==0){return d.message(e.bornDateNull,false)}if(g.bmonth&&g.bmonth.val()==0){return d.message(e.bornDateNull,false)}if(g.bday&&g.bday.val()==0){return d.message(e.bornDateNull,false)}return true},saveForm:function(){c("#J_saveForm").on("submit",function(f){f.preventDefault();if(!GOU.checkForm()){return false}var i=c(this),g=i.attr("action");var h=i.serialize();a.mix(h,{token:token});i.addClass("required");if(i.hasClass("required")){c.post(g,h,function(j){if(j.success==false){i.removeClass("required");return d.message(j.msg,false)}else{if(d.message(j.msg,true)){if(j.data.type=="redirect"&&j.data.url){setTimeout(function(){window.location.href=j.data.url},2000)}}}},"json")}})}});c(function(){GOU.init()})})(ICAT,Zepto);