/*! call 2015-07-09 */
define(["./event","./data","./touch"],function(){function a(a){this.element=$(a)}var b="js-active",c="show:tab",d="shown:tab",e="touchstart"in window?"tap":"click";a.prototype.show=function(){var a=this.element;if(!a.hasClass(b)){var e=a.parent(),f=a.data("target"),g=e.find("."+b)[0],h=$.Event(c,{relatedTarget:g});if(a.trigger(h),!h.isDefaultPrevented()){var i=$(f);this.activate(a,e),this.activate(i,i.parent(),function(){a.trigger({type:d,relatedTarget:g})})}}},a.prototype.activate=function(a,c,d){var e="zepto-tab-"+Date.now();c.addClass(e);var f=$("."+e+">."+b,c);c.removeClass(e),f.removeClass(b),a.addClass(b),d&&d()},$.Tab=a,$.fn.tab=function(b){return this.each(function(){var c=$(this),d=c.data("tab");d||c.data("tab",d=new a(this)),"string"==typeof b&&d[b]()})},$(document).on(e+".tab.data-api",'[data-toggle="tab"]',function(a){a.preventDefault(),$(this).tab("show")})});