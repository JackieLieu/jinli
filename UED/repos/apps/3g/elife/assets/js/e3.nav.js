(function(a){a.app("E3nav",function(){return{version:"1.0"};});a.mix(E3nav,{init:function(){a.include(["lib/zepto/zepto.js"],function(){var o=[],e,j,m,d,f,g,c;for(f=0,d=$(".nav-tab li").length;f<d;f++){if(f==0){o.push("<ul></ul>");}else{o.push('<ul class="ishide"></ul>');}}$("#J_nav_box").append(o.join(""));j=$("#J_nav_box ul").eq(0);e=$(".nav-tab li").eq(0).data("remote");setTimeout(function(){E3nav.getNavData(e,j);},1500);$("#J_nav_tab").delegate("li","click",function(i){var s=$(this),u=s.data("id"),l=s.data("remote"),r=$("#J_nav_box ul").eq(u-1),t=parseInt(s.prev().data("id")),q=parseInt(s.next().data("id"));$(".nav-tab li").removeClass("sel");$(".nav-tab li").removeClass("prevbg");$(".nav-tab li").removeClass("nextbg");s.addClass("sel").css({margin:0});if(isNaN(t)===true){s.next().addClass("nextbg");m=s.siblings(),g=15,c=10;for(f=0,d=m.length;f<d;f++){c=c+2;$(m[f]).css({"z-index":--g,margin:"0 -"+c+"px 0 0","background-postion":c+"px top"});if(f==d-1){$(m[f]).css({margin:"0 0 0 -10px"});}}}else{if(isNaN(q)){s.prev().addClass("prevbg");m=s.siblings(),g=15,c=10;for(f=0,d=m.length;f<d;f++){c=c+2;$(m[(d-1)-f]).css({"z-index":--g,margin:"0 0 0 -"+c+"px","background-postion":c+"px top"});}}else{s.prev().addClass("prevbg");s.next().addClass("nextbg");}}$("#J_nav_box ul").addClass("ishide");r.removeClass("ishide");if(!r.hasClass("done")){E3nav.getNavData(l,r);}});var h,p=false,b,n,k=function(){clearTimeout(b);if(h&&(n=h.attr("highlight-cls"))){h.removeClass(n).attr("highlight-cls","");h=null;}};$.fn.highlight=function(i){p=p||!!$(document).on("touchend.highlight touchmove.highlight touchcancel.highlight",k);k();i&&$(this).delegate("a","touchstart.highlight",function(){var l=$(this);b=setTimeout(function(){h=l.attr("highlight-cls",i).addClass(i);},100);});};$("#J_nav_box").highlight("highlight");});},getNavData:function(c,d,b){$.ajax({type:"GET",url:c,dataType:"json",success:function(g){d.addClass("done").html("");var h=g.data.list.data,e=[],f;$.each(h,function(j,k){var i=k.color?"color:"+k.color+";":"";f='<li>									<a href="'+k.link+'" highlight-cls="highlight" style="'+i+'-webkit-tap-highlight-color: rgba(255, 255, 255, 0);">										<div>											<img src="'+k.icon+'" />											<span>'+k.name+"</span>										</div>									</a>								</li>";e.push(f);});d.append(e.join(""));}});}});E3nav.init();})(ICAT);