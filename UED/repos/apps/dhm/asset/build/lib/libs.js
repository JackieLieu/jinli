var Zepto=(function(){var n,u,F,a,N=[],q=N.slice,G=N.filter,h=window.document,K={},O={},W={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},y=/^\s*<(\w+|!)[^>]*>/,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,I=/^(?:body|html)$/i,p=/([A-Z])/g,E=["val","css","html","text","data","width","height","offset"],z=["after","prepend","before","append"],v=h.createElement("table"),P=h.createElement("tr"),i={tr:h.createElement("tbody"),tbody:v,thead:v,tfoot:v,td:P,th:P,"*":h.createElement("div")},w=/complete|loaded|interactive/,l=/^[\w-]*$/,e={},g=e.toString,d={},U,Q,H=h.createElement("div"),X={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},B=Array.isArray||function(aa){return aa instanceof Array};d.matches=function(ae,aa){if(!aa||!ae||ae.nodeType!==1){return false}var ac=ae.webkitMatchesSelector||ae.mozMatchesSelector||ae.oMatchesSelector||ae.matchesSelector;if(ac){return ac.call(ae,aa)}var ad,af=ae.parentNode,ab=!af;if(ab){(af=H).appendChild(ae)}ad=~d.qsa(af,aa).indexOf(ae);ab&&H.removeChild(ae);return ad};function Z(aa){return aa==null?String(aa):e[g.call(aa)]||"object"}function r(aa){return Z(aa)=="function"}function L(aa){return aa!=null&&aa==aa.window}function x(aa){return aa!=null&&aa.nodeType==aa.DOCUMENT_NODE}function J(aa){return Z(aa)=="object"}function Y(aa){return J(aa)&&!L(aa)&&Object.getPrototypeOf(aa)==Object.prototype}function C(aa){return typeof aa.length=="number"}function V(aa){return G.call(aa,function(ab){return ab!=null})}function D(aa){return aa.length>0?F.fn.concat.apply([],aa):aa}U=function(aa){return aa.replace(/-+(.)?/g,function(ab,ac){return ac?ac.toUpperCase():""})};function o(aa){return aa.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}Q=function(aa){return G.call(aa,function(ac,ab){return aa.indexOf(ac)==ab})};function R(aa){return aa in O?O[aa]:(O[aa]=new RegExp("(^|\\s)"+aa+"(\\s|$)"))}function f(aa,ab){return(typeof ab=="number"&&!W[o(aa)])?ab+"px":ab}function S(ac){var aa,ab;if(!K[ac]){aa=h.createElement(ac);h.body.appendChild(aa);ab=getComputedStyle(aa,"").getPropertyValue("display");aa.parentNode.removeChild(aa);ab=="none"&&(ab="block");K[ac]=ab}return K[ac]}function t(aa){return"children" in aa?q.call(aa.children):F.map(aa.childNodes,function(ab){if(ab.nodeType==1){return ab}})}d.fragment=function(ae,ac,ad){var af,ab,aa;if(M.test(ae)){af=F(h.createElement(RegExp.$1))}if(!af){if(ae.replace){ae=ae.replace(k,"<$1></$2>")}if(ac===n){ac=y.test(ae)&&RegExp.$1}if(!(ac in i)){ac="*"}aa=i[ac];aa.innerHTML=""+ae;af=F.each(q.call(aa.childNodes),function(){aa.removeChild(this)})}if(Y(ad)){ab=F(af);F.each(ad,function(ag,ah){if(E.indexOf(ag)>-1){ab[ag](ah)}else{ab.attr(ag,ah)}})}return af};d.Z=function(ab,aa){ab=ab||[];ab.__proto__=F.fn;ab.selector=aa||"";return ab};d.isZ=function(aa){return aa instanceof d.Z};d.init=function(aa,ab){var ac;if(!aa){return d.Z()}else{if(typeof aa=="string"){aa=aa.trim();if(aa[0]=="<"&&y.test(aa)){ac=d.fragment(aa,RegExp.$1,ab),aa=null}else{if(ab!==n){return F(ab).find(aa)}else{ac=d.qsa(h,aa)}}}else{if(r(aa)){return F(h).ready(aa)}else{if(d.isZ(aa)){return aa}else{if(B(aa)){ac=V(aa)}else{if(J(aa)){ac=[aa],aa=null}else{if(y.test(aa)){ac=d.fragment(aa.trim(),RegExp.$1,ab),aa=null}else{if(ab!==n){return F(ab).find(aa)}else{ac=d.qsa(h,aa)}}}}}}}}return d.Z(ac,aa)};F=function(aa,ab){return d.init(aa,ab)};function m(ac,ab,aa){for(u in ab){if(aa&&(Y(ab[u])||B(ab[u]))){if(Y(ab[u])&&!Y(ac[u])){ac[u]={}}if(B(ab[u])&&!B(ac[u])){ac[u]=[]}m(ac[u],ab[u],aa)}else{if(ab[u]!==n){ac[u]=ab[u]}}}}F.extend=function(ac){var aa,ab=q.call(arguments,1);if(typeof ac=="boolean"){aa=ac;ac=ab.shift()}ab.forEach(function(ad){m(ac,ad,aa)});return ac};d.qsa=function(ac,aa){var af,ag=aa[0]=="#",ab=!ag&&aa[0]==".",ad=ag||ab?aa.slice(1):aa,ae=l.test(ad);return(x(ac)&&ae&&ag)?((af=ac.getElementById(ad))?[af]:[]):(ac.nodeType!==1&&ac.nodeType!==9)?[]:q.call(ae&&!ag?ab?ac.getElementsByClassName(ad):ac.getElementsByTagName(aa):ac.querySelectorAll(aa))};function A(ab,aa){return aa==null?F(ab):F(ab).filter(aa)}F.contains=h.documentElement.contains?function(aa,ab){return aa!==ab&&aa.contains(ab)}:function(aa,ab){while(ab&&(ab=ab.parentNode)){if(ab===aa){return true}}return false};function s(ac,ab,aa,ad){return r(ab)?ab.call(ac,aa,ad):ab}function b(ab,aa,ac){ac==null?ab.removeAttribute(aa):ab.setAttribute(aa,ac)}function T(ac,ad){var aa=ac.className||"",ab=aa&&aa.baseVal!==n;if(ad===n){return ab?aa.baseVal:aa}ab?(aa.baseVal=ad):(ac.className=ad)}function j(aa){try{return aa?aa=="true"||(aa=="false"?false:aa=="null"?null:+aa+""==aa?+aa:/^[\[\{]/.test(aa)?F.parseJSON(aa):aa):aa}catch(ab){return aa}}F.type=Z;F.isFunction=r;F.isWindow=L;F.isArray=B;F.isPlainObject=Y;F.isEmptyObject=function(ab){var aa;for(aa in ab){return false}return true};F.inArray=function(ab,ac,aa){return N.indexOf.call(ac,ab,aa)};F.camelCase=U;F.trim=function(aa){return aa==null?"":String.prototype.trim.call(aa)};F.uuid=0;F.support={};F.expr={};F.map=function(ae,af){var ad,aa=[],ac,ab;if(C(ae)){for(ac=0;ac<ae.length;ac++){ad=af(ae[ac],ac);if(ad!=null){aa.push(ad)}}}else{for(ab in ae){ad=af(ae[ab],ab);if(ad!=null){aa.push(ad)}}}return D(aa)};F.each=function(ac,ad){var ab,aa;if(C(ac)){for(ab=0;ab<ac.length;ab++){if(ad.call(ac[ab],ab,ac[ab])===false){return ac}}}else{for(aa in ac){if(ad.call(ac[aa],aa,ac[aa])===false){return ac}}}return ac};F.grep=function(aa,ab){return G.call(aa,ab)};if(window.JSON){F.parseJSON=JSON.parse}F.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(ab,aa){e["[object "+aa+"]"]=aa.toLowerCase()});F.fn={forEach:N.forEach,reduce:N.reduce,push:N.push,sort:N.sort,indexOf:N.indexOf,concat:N.concat,map:function(aa){return F(F.map(this,function(ac,ab){return aa.call(ac,ab,ac)}))},slice:function(){return F(q.apply(this,arguments))},ready:function(aa){if(w.test(h.readyState)&&h.body){aa(F)}else{h.addEventListener("DOMContentLoaded",function(){aa(F)},false)}return this},get:function(aa){return aa===n?q.call(this):this[aa>=0?aa:aa+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null){this.parentNode.removeChild(this)}})},each:function(aa){N.every.call(this,function(ac,ab){return aa.call(ac,ab,ac)!==false});return this},filter:function(aa){if(r(aa)){return this.not(this.not(aa))}return F(G.call(this,function(ab){return d.matches(ab,aa)}))},add:function(aa,ab){return F(Q(this.concat(F(aa,ab))))},is:function(aa){return this.length>0&&d.matches(this[0],aa)},not:function(aa){var ab=[];if(r(aa)&&aa.call!==n){this.each(function(ad){if(!aa.call(this,ad)){ab.push(this)}})}else{var ac=typeof aa=="string"?this.filter(aa):(C(aa)&&r(aa.item))?q.call(aa):F(aa);this.forEach(function(ad){if(ac.indexOf(ad)<0){ab.push(ad)}})}return F(ab)},has:function(aa){return this.filter(function(){return J(aa)?F.contains(this,aa):F(this).find(aa).size()})},eq:function(aa){return aa===-1?this.slice(aa):this.slice(aa,+aa+1)},first:function(){var aa=this[0];return aa&&!J(aa)?aa:F(aa)},last:function(){var aa=this[this.length-1];return aa&&!J(aa)?aa:F(aa)},find:function(ab){var aa,ac=this;if(!ab){aa=F()}else{if(typeof ab=="object"){aa=F(ab).filter(function(){var ad=this;return N.some.call(ac,function(ae){return F.contains(ae,ad)})})}else{if(this.length==1){aa=F(d.qsa(this[0],ab))}else{aa=this.map(function(){return d.qsa(this,ab)})}}}return aa},closest:function(aa,ab){var ac=this[0],ad=false;if(typeof aa=="object"){ad=F(aa)}while(ac&&!(ad?ad.indexOf(ac)>=0:d.matches(ac,aa))){ac=ac!==ab&&!x(ac)&&ac.parentNode}return F(ac)},parents:function(aa){var ac=[],ab=this;while(ab.length>0){ab=F.map(ab,function(ad){if((ad=ad.parentNode)&&!x(ad)&&ac.indexOf(ad)<0){ac.push(ad);return ad}})}return A(ac,aa)},parent:function(aa){return A(Q(this.pluck("parentNode")),aa)},children:function(aa){return A(this.map(function(){return t(this)}),aa)},contents:function(){return this.map(function(){return q.call(this.childNodes)})},siblings:function(aa){return A(this.map(function(ab,ac){return G.call(t(ac.parentNode),function(ad){return ad!==ac})}),aa)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(aa){return F.map(this,function(ab){return ab[aa]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")=="none"){this.style.display=S(this.nodeName)}})},replaceWith:function(aa){return this.before(aa).remove()},wrap:function(aa){var ab=r(aa);if(this[0]&&!ab){var ac=F(aa).get(0),ad=ac.parentNode||this.length>1}return this.each(function(ae){F(this).wrapAll(ab?aa.call(this,ae):ad?ac.cloneNode(true):ac)})},wrapAll:function(aa){if(this[0]){F(this[0]).before(aa=F(aa));var ab;while((ab=aa.children()).length){aa=ab.first()}F(aa).append(this)}return this},wrapInner:function(aa){var ab=r(aa);return this.each(function(ad){var ac=F(this),ae=ac.contents(),af=ab?aa.call(this,ad):aa;ae.length?ae.wrapAll(af):ac.append(af)})},unwrap:function(){this.parent().each(function(){F(this).replaceWith(F(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(true)})},hide:function(){return this.css("display","none")},toggle:function(aa){return this.each(function(){var ab=F(this);(aa===n?ab.css("display")=="none":aa)?ab.show():ab.hide()})},prev:function(aa){return F(this.pluck("previousElementSibling")).filter(aa||"*")},next:function(aa){return F(this.pluck("nextElementSibling")).filter(aa||"*")},html:function(aa){return 0 in arguments?this.each(function(ab){var ac=this.innerHTML;F(this).empty().append(s(this,aa,ab,ac))}):(0 in this?this[0].innerHTML:null)},text:function(aa){return 0 in arguments?this.each(function(ab){var ac=s(this,aa,ab,this.textContent);this.textContent=ac==null?"":""+ac}):(0 in this?this[0].textContent:null)},attr:function(ab,ac){var aa;return(typeof ab=="string"&&!(1 in arguments))?(!this.length||this[0].nodeType!==1?n:(!(aa=this[0].getAttribute(ab))&&ab in this[0])?this[0][ab]:aa):this.each(function(ad){if(this.nodeType!==1){return}if(J(ab)){for(u in ab){b(this,u,ab[u])}}else{b(this,ab,s(this,ac,ad,this.getAttribute(ab)))}})},removeAttr:function(aa){return this.each(function(){this.nodeType===1&&aa.split(" ").forEach(function(ab){b(this,ab)},this)})},prop:function(aa,ab){aa=X[aa]||aa;return(1 in arguments)?this.each(function(ac){this[aa]=s(this,ab,ac,this[aa])}):(this[0]&&this[0][aa])},data:function(aa,ad){var ab="data-"+aa.replace(p,"-$1").toLowerCase();var ac=(1 in arguments)?this.attr(ab,ad):this.attr(ab);return ac!==null?j(ac):n},val:function(aa){return 0 in arguments?this.each(function(ab){this.value=s(this,aa,ab,this.value)}):(this[0]&&(this[0].multiple?F(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value))},offset:function(ab){if(ab){return this.each(function(ad){var ag=F(this),af=s(this,ab,ad,ag.offset()),ac=ag.offsetParent().offset(),ae={top:af.top-ac.top,left:af.left-ac.left};if(ag.css("position")=="static"){ae.position="relative"}ag.css(ae)})}if(!this.length){return null}var aa=this[0].getBoundingClientRect();return{left:aa.left+window.pageXOffset,top:aa.top+window.pageYOffset,width:Math.round(aa.width),height:Math.round(aa.height)}},css:function(af,ae){if(arguments.length<2){var aa,ac=this[0];if(!ac){return}aa=getComputedStyle(ac,"");if(typeof af=="string"){return ac.style[U(af)]||aa.getPropertyValue(af)}else{if(B(af)){var ad={};F.each(af,function(ag,ah){ad[ah]=(ac.style[U(ah)]||aa.getPropertyValue(ah))});return ad}}}var ab="";if(Z(af)=="string"){if(!ae&&ae!==0){this.each(function(){this.style.removeProperty(o(af))})}else{ab=o(af)+":"+f(af,ae)}}else{for(u in af){if(!af[u]&&af[u]!==0){this.each(function(){this.style.removeProperty(o(u))})}else{ab+=o(u)+":"+f(u,af[u])+";"}}}return this.each(function(){this.style.cssText+=";"+ab})},index:function(aa){return aa?this.indexOf(F(aa)[0]):this.parent().children().indexOf(this[0])},hasClass:function(aa){if(!aa){return false}return N.some.call(this,function(ab){return this.test(T(ab))},R(aa))},addClass:function(aa){if(!aa){return this}return this.each(function(ab){if(!("className" in this)){return}a=[];var ad=T(this),ac=s(this,aa,ab,ad);ac.split(/\s+/g).forEach(function(ae){if(!F(this).hasClass(ae)){a.push(ae)}},this);a.length&&T(this,ad+(ad?" ":"")+a.join(" "))})},removeClass:function(aa){return this.each(function(ab){if(!("className" in this)){return}if(aa===n){return T(this,"")}a=T(this);s(this,aa,ab,a).split(/\s+/g).forEach(function(ac){a=a.replace(R(ac)," ")});T(this,a.trim())})},toggleClass:function(ab,aa){if(!ab){return this}return this.each(function(ac){var ae=F(this),ad=s(this,ab,ac,T(this));ad.split(/\s+/g).forEach(function(af){(aa===n?!ae.hasClass(af):aa)?ae.addClass(af):ae.removeClass(af)})})},scrollTop:function(ab){if(!this.length){return}var aa="scrollTop" in this[0];if(ab===n){return aa?this[0].scrollTop:this[0].pageYOffset}return this.each(aa?function(){this.scrollTop=ab}:function(){this.scrollTo(this.scrollX,ab)})},scrollLeft:function(ab){if(!this.length){return}var aa="scrollLeft" in this[0];if(ab===n){return aa?this[0].scrollLeft:this[0].pageXOffset}return this.each(aa?function(){this.scrollLeft=ab}:function(){this.scrollTo(ab,this.scrollY)})},position:function(){if(!this.length){return}var ac=this[0],ab=this.offsetParent(),ad=this.offset(),aa=I.test(ab[0].nodeName)?{top:0,left:0}:ab.offset();ad.top-=parseFloat(F(ac).css("margin-top"))||0;ad.left-=parseFloat(F(ac).css("margin-left"))||0;aa.top+=parseFloat(F(ab[0]).css("border-top-width"))||0;aa.left+=parseFloat(F(ab[0]).css("border-left-width"))||0;return{top:ad.top-aa.top,left:ad.left-aa.left}},offsetParent:function(){return this.map(function(){var aa=this.offsetParent||h.body;while(aa&&!I.test(aa.nodeName)&&F(aa).css("position")=="static"){aa=aa.offsetParent}return aa})}};F.fn.detach=F.fn.remove;["width","height"].forEach(function(ab){var aa=ab.replace(/./,function(ac){return ac[0].toUpperCase()});F.fn[ab]=function(ad){var ae,ac=this[0];if(ad===n){return L(ac)?ac["inner"+aa]:x(ac)?ac.documentElement["scroll"+aa]:(ae=this.offset())&&ae[ab]}else{return this.each(function(af){ac=F(this);ac.css(ab,s(this,ad,af,ac[ab]()))})}}});function c(ad,ab){ab(ad);for(var ac=0,aa=ad.childNodes.length;ac<aa;ac++){c(ad.childNodes[ac],ab)}}z.forEach(function(ac,ab){var aa=ab%2;F.fn[ac]=function(){var ad,ae=F.map(arguments,function(ah){ad=Z(ah);return ad=="object"||ad=="array"||ah==null?ah:d.fragment(ah)}),af,ag=this.length>1;if(ae.length<1){return this}return this.each(function(ai,aj){af=aa?aj:aj.parentNode;aj=ab==0?aj.nextSibling:ab==1?aj.firstChild:ab==2?aj:null;var ah=F.contains(h.documentElement,af);ae.forEach(function(ak){if(ag){ak=ak.cloneNode(true)}else{if(!af){return F(ak).remove()}}af.insertBefore(ak,aj);if(ah){c(ak,function(al){if(al.nodeName!=null&&al.nodeName.toUpperCase()==="SCRIPT"&&(!al.type||al.type==="text/javascript")&&!al.src){window["eval"].call(window,al.innerHTML)}})}})})};F.fn[aa?ac+"To":"insert"+(ab?"Before":"After")]=function(ad){F(ad)[ac](this);return this}});d.Z.prototype=F.fn;d.uniq=Q;d.deserializeValue=j;F.zepto=d;return F})();window.Zepto=Zepto;window.$===undefined&&(window.$=Zepto);(function(d){var f=1,h,s=Array.prototype.slice,a=d.isFunction,k=function(z){return typeof z=="string"},r={},o={},g="onfocusin" in window,p={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents";function b(z){return z._zid||(z._zid=f++)}function l(A,C,B,z){C=q(C);if(C.ns){var D=v(C.ns)}return(r[b(A)]||[]).filter(function(E){return E&&(!C.e||E.e==C.e)&&(!C.ns||D.test(E.ns))&&(!B||b(E.fn)===b(B))&&(!z||E.sel==z)})}function q(z){var A=(""+z).split(".");return{e:A[0],ns:A.slice(1).sort().join(" ")}}function v(z){return new RegExp("(?:^| )"+z.replace(" "," .* ?")+"(?: |$)")}function j(z,A){return z.del&&(!g&&(z.e in p))||!!A}function u(z){return w[z]||(g&&p[z])||z}function n(C,G,D,B,A,H,F){var z=b(C),E=(r[z]||(r[z]=[]));G.split(/\s/).forEach(function(J){if(J=="ready"){return d(document).ready(D)}var I=q(J);I.fn=D;I.sel=A;if(I.e in w){D=function(M){var L=M.relatedTarget;if(!L||(L!==this&&!d.contains(this,L))){return I.fn.apply(this,arguments)}}}I.del=H;var K=H||D;I.proxy=function(M){M=x(M);if(M.isImmediatePropagationStopped()){return}M.data=B;var L=K.apply(C,M._args==h?[M]:[M].concat(M._args));if(L===false){M.preventDefault(),M.stopPropagation()}return L};I.i=E.length;E.push(I);if("addEventListener" in C){C.addEventListener(u(I.e),I.proxy,j(I,F))}})}function y(C,B,D,z,A){var E=b(C);(B||"").split(/\s/).forEach(function(F){l(C,F,D,z).forEach(function(G){delete r[E][G.i];if("removeEventListener" in C){C.removeEventListener(u(G.e),G.proxy,j(G,A))}})})}d.event={add:n,remove:y};d.proxy=function(C,B){var A=(2 in arguments)&&s.call(arguments,2);if(a(C)){var z=function(){return C.apply(B,A?A.concat(s.call(arguments)):arguments)};z._zid=b(C);return z}else{if(k(B)){if(A){A.unshift(C[B],C);return d.proxy.apply(null,A)}else{return d.proxy(C[B],C)}}else{throw new TypeError("expected function")}}};d.fn.bind=function(z,A,B){return this.on(z,A,B)};d.fn.unbind=function(z,A){return this.off(z,A)};d.fn.one=function(A,z,B,C){return this.on(A,z,B,C,1)};var t=function(){return true},i=function(){return false},e=/^([A-Z]|returnValue$|layer[XY]$)/,m={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function x(z,A){if(A||!z.isDefaultPrevented){A||(A=z);d.each(m,function(C,B){var D=A[C];z[C]=function(){this[B]=t;return D&&D.apply(A,arguments)};z[B]=i});if(A.defaultPrevented!==h?A.defaultPrevented:"returnValue" in A?A.returnValue===false:A.getPreventDefault&&A.getPreventDefault()){z.isDefaultPrevented=t}}return z}function c(B){var A,z={originalEvent:B};for(A in B){if(!e.test(A)&&B[A]!==h){z[A]=B[A]}}return x(z,B)}d.fn.delegate=function(z,A,B){return this.on(A,z,B)};d.fn.undelegate=function(z,A,B){return this.off(A,z,B)};d.fn.live=function(z,A){d(document.body).delegate(this.selector,z,A);return this};d.fn.die=function(z,A){d(document.body).undelegate(this.selector,z,A);return this};d.fn.on=function(D,z,E,G,C){var B,A,F=this;if(D&&!k(D)){d.each(D,function(I,H){F.on(I,z,E,H,C)});return F}if(!k(z)&&!a(G)&&G!==false){G=E,E=z,z=h}if(a(E)||E===false){G=E,E=h}if(G===false){G=i}return F.each(function(H,I){if(C){B=function(J){y(I,J.type,G);return G.apply(this,arguments)}}if(z){A=function(L){var J,K=d(L.target).closest(z,I).get(0);if(K&&K!==I){J=d.extend(c(L),{currentTarget:K,liveFired:I});return(B||G).apply(K,[J].concat(s.call(arguments,1)))}}}n(I,D,G,E,z,A||B)})};d.fn.off=function(A,z,C){var B=this;if(A&&!k(A)){d.each(A,function(E,D){B.off(E,z,D)});return B}if(!k(z)&&!a(C)&&C!==false){C=z,z=h}if(C===false){C=i}return B.each(function(){y(this,A,C,z)})};d.fn.trigger=function(A,z){A=(k(A)||d.isPlainObject(A))?d.Event(A):x(A);A._args=z;return this.each(function(){if(A.type in p&&typeof this[A.type]=="function"){this[A.type]()}else{if("dispatchEvent" in this){this.dispatchEvent(A)}else{d(this).triggerHandler(A,z)}}})};d.fn.triggerHandler=function(B,A){var C,z;this.each(function(E,D){C=c(k(B)?d.Event(B):B);C._args=A;C.target=D;d.each(l(D,B.type||B),function(F,G){z=G.proxy(C);if(C.isImmediatePropagationStopped()){return false}})});return z};("focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error").split(" ").forEach(function(z){d.fn[z]=function(A){return(0 in arguments)?this.bind(z,A):this.trigger(z)}});d.Event=function(C,B){if(!k(C)){B=C,C=B.type}var D=document.createEvent(o[C]||"Events"),z=true;if(B){for(var A in B){(A=="bubbles")?(z=!!B[A]):(D[A]=B[A])}}D.initEvent(C,z,true);return x(D)}})(Zepto);(function($){var jsonpID=0,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/,originAnchor=document.createElement("a");originAnchor.href=window.location.href;function triggerAndReturn(context,eventName,data){var event=$.Event(eventName);$(context).trigger(event,data);return !event.isDefaultPrevented()}function triggerGlobal(settings,context,eventName,data){if(settings.global){return triggerAndReturn(context||document,eventName,data)}}$.active=0;function ajaxStart(settings){if(settings.global&&$.active++===0){triggerGlobal(settings,null,"ajaxStart")}}function ajaxStop(settings){if(settings.global&&!(--$.active)){triggerGlobal(settings,null,"ajaxStop")}}function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false||triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])===false){return false}triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings,deferred){var context=settings.context,status="success";settings.success.call(context,data,status,xhr);if(deferred){deferred.resolveWith(context,[data,status,xhr])}triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]);ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings,deferred){var context=settings.context;settings.error.call(context,xhr,type,error);if(deferred){deferred.rejectWith(context,[xhr,type,error])}triggerGlobal(settings,context,"ajaxError",[xhr,settings,error||type]);ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status);triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]);ajaxStop(settings)}function empty(){}$.ajaxJSONP=function(options,deferred){if(!("type" in options)){return $.ajax(options)}var _callbackName=options.jsonpCallback,callbackName=($.isFunction(_callbackName)?_callbackName():_callbackName)||("jsonp"+(++jsonpID)),script=document.createElement("script"),originalCallback=window[callbackName],responseData,abort=function(errorType){$(script).triggerHandler("error",errorType||"abort")},xhr={abort:abort},abortTimeout;if(deferred){deferred.promise(xhr)}$(script).on("load error",function(e,errorType){clearTimeout(abortTimeout);$(script).off().remove();if(e.type=="error"||!responseData){ajaxError(null,errorType||"error",xhr,options,deferred)}else{ajaxSuccess(responseData[0],xhr,options,deferred)}window[callbackName]=originalCallback;if(responseData&&$.isFunction(originalCallback)){originalCallback(responseData[0])}originalCallback=responseData=undefined});if(ajaxBeforeSend(xhr,options)===false){abort("abort");return xhr}window[callbackName]=function(){responseData=arguments};script.src=options.url.replace(/\?(.+)=\?/,"?$1="+callbackName);document.head.appendChild(script);if(options.timeout>0){abortTimeout=setTimeout(function(){abort("timeout")},options.timeout)}return xhr};$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:true,xhr:function(){return new window.XMLHttpRequest()},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:false,timeout:0,processData:true,cache:true};function mimeToDataType(mime){if(mime){mime=mime.split(";",2)[0]}return mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){if(query==""){return url}return(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){if(options.processData&&options.data&&$.type(options.data)!="string"){options.data=$.param(options.data,options.traditional)}if(options.data&&(!options.type||options.type.toUpperCase()=="GET")){options.url=appendQuery(options.url,options.data),options.data=undefined}}$.ajax=function(options){var settings=$.extend({},options||{}),deferred=$.Deferred&&$.Deferred(),urlAnchor;for(key in $.ajaxSettings){if(settings[key]===undefined){settings[key]=$.ajaxSettings[key]}}ajaxStart(settings);if(!settings.crossDomain){urlAnchor=document.createElement("a");urlAnchor.href=settings.url;urlAnchor.href=urlAnchor.href;settings.crossDomain=(originAnchor.protocol+"//"+originAnchor.host)!==(urlAnchor.protocol+"//"+urlAnchor.host)}if(!settings.url){settings.url=window.location.toString()}serializeData(settings);var dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url);if(hasPlaceholder){dataType="jsonp"}if(settings.cache===false||((!options||options.cache!==true)&&("script"==dataType||"jsonp"==dataType))){settings.url=appendQuery(settings.url,"_="+Date.now())}if("jsonp"==dataType){if(!hasPlaceholder){settings.url=appendQuery(settings.url,settings.jsonp?(settings.jsonp+"=?"):settings.jsonp===false?"":"callback=?")}return $.ajaxJSONP(settings,deferred)}var mime=settings.accepts[dataType],headers={},setHeader=function(name,value){headers[name.toLowerCase()]=[name,value]},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),nativeSetHeader=xhr.setRequestHeader,abortTimeout;if(deferred){deferred.promise(xhr)}if(!settings.crossDomain){setHeader("X-Requested-With","XMLHttpRequest")}setHeader("Accept",mime||"*/*");if(mime=settings.mimeType||mime){if(mime.indexOf(",")>-1){mime=mime.split(",",2)[0]}xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||(settings.contentType!==false&&settings.data&&settings.type.toUpperCase()!="GET")){setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded")}if(settings.headers){for(name in settings.headers){setHeader(name,settings.headers[name])}}xhr.setRequestHeader=setHeader;xhr.onreadystatechange=function(){if(xhr.readyState==4){xhr.onreadystatechange=empty;clearTimeout(abortTimeout);var result,error=false;if((xhr.status>=200&&xhr.status<300)||xhr.status==304||(xhr.status==0&&protocol=="file:")){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type"));result=xhr.responseText;try{if(dataType=="script"){(1,eval)(result)}else{if(dataType=="xml"){result=xhr.responseXML}else{if(dataType=="json"){result=blankRE.test(result)?null:$.parseJSON(result)}}}}catch(e){error=e}if(error){ajaxError(error,"parsererror",xhr,settings,deferred)}else{ajaxSuccess(result,xhr,settings,deferred)}}else{ajaxError(xhr.statusText||null,xhr.status?"error":"abort",xhr,settings,deferred)}}};if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();ajaxError(null,"abort",xhr,settings,deferred);return xhr}if(settings.xhrFields){for(name in settings.xhrFields){xhr[name]=settings.xhrFields[name]}}var async="async" in settings?settings.async:true;xhr.open(settings.type,settings.url,async,settings.username,settings.password);for(name in headers){nativeSetHeader.apply(xhr,headers[name])}if(settings.timeout>0){abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,"timeout",xhr,settings,deferred)},settings.timeout)}xhr.send(settings.data?settings.data:null);return xhr};function parseArguments(url,data,success,dataType){if($.isFunction(data)){dataType=success,success=data,data=undefined}if(!$.isFunction(success)){dataType=success,success=undefined}return{url:url,data:data,success:success,dataType:dataType}}$.get=function(){return $.ajax(parseArguments.apply(null,arguments))};$.post=function(){var options=parseArguments.apply(null,arguments);options.type="POST";return $.ajax(options)};$.getJSON=function(){var options=parseArguments.apply(null,arguments);options.dataType="json";return $.ajax(options)};$.fn.load=function(url,data,success){if(!this.length){return this}var self=this,parts=url.split(/\s/),selector,options=parseArguments(url,data,success),callback=options.success;if(parts.length>1){options.url=parts[0],selector=parts[1]}options.success=function(response){self.html(selector?$("<div>").html(response.replace(rscript,"")).find(selector):response);callback&&callback.apply(self,arguments)};$.ajax(options);return this};var escape=encodeURIComponent;function serialize(params,obj,traditional,scope){var type,array=$.isArray(obj),hash=$.isPlainObject(obj);$.each(obj,function(key,value){type=$.type(value);if(scope){key=traditional?scope:scope+"["+(hash||type=="object"||type=="array"?key:"")+"]"}if(!scope&&array){params.add(value.name,value.value)}else{if(type=="array"||(!traditional&&type=="object")){serialize(params,value,traditional,key)}else{params.add(key,value)}}})}$.param=function(obj,traditional){var params=[];params.add=function(key,value){if($.isFunction(value)){value=value()}if(value==null){value=""}this.push(escape(key)+"="+escape(value))};serialize(params,obj,traditional);return params.join("&").replace(/%20/g,"+")}})(Zepto);(function(a){a.fn.serializeArray=function(){var c,d,b=[],e=function(f){if(f.forEach){return f.forEach(e)}b.push({name:c,value:f})};if(this[0]){a.each(this[0].elements,function(f,g){d=g.type,c=g.name;if(c&&g.nodeName.toLowerCase()!="fieldset"&&!g.disabled&&d!="submit"&&d!="reset"&&d!="button"&&d!="file"&&((d!="radio"&&d!="checkbox")||g.checked)){e(a(g).val())}})}return b};a.fn.serialize=function(){var b=[];this.serializeArray().forEach(function(c){b.push(encodeURIComponent(c.name)+"="+encodeURIComponent(c.value))});return b.join("&")};a.fn.submit=function(c){if(0 in arguments){this.bind("submit",c)}else{if(this.length){var b=a.Event("submit");this.eq(0).trigger(b);if(!b.isDefaultPrevented()){this.get(0).submit()}}}return this}})(Zepto);(function(b){if(!("__proto__" in {})){b.extend(b.zepto,{Z:function(e,d){e=e||[];b.extend(e,b.fn);e.selector=d||"";e.__Z=true;return e},isZ:function(d){return b.type(d)==="array"&&"__Z" in d}})}try{getComputedStyle(undefined)}catch(c){var a=getComputedStyle;window.getComputedStyle=function(d){try{return a(d)}catch(f){return null}}}})(Zepto);(function(i){var g={},c,l,h,a,e=750,m;function j(p,o,r,q){return Math.abs(p-o)>=Math.abs(r-q)?(p-o>0?"Left":"Right"):(r-q>0?"Up":"Down")}function n(){a=null;if(g.last){g.el.trigger("longTap");g={}}}function d(){if(a){clearTimeout(a)}a=null}function f(){if(c){clearTimeout(c)}if(l){clearTimeout(l)}if(h){clearTimeout(h)}if(a){clearTimeout(a)}c=l=h=a=null;g={}}function k(o){return(o.pointerType=="touch"||o.pointerType==o.MSPOINTER_TYPE_TOUCH)&&o.isPrimary}function b(p,o){return(p.type=="pointer"+o||p.type.toLowerCase()=="mspointer"+o)}i(document).ready(function(){var q,t,p=0,o=0,s,r;if("MSGesture" in window){m=new MSGesture();m.target=document.body}i(document).bind("MSGestureEnd",function(v){var u=v.velocityX>1?"Right":v.velocityX<-1?"Left":v.velocityY>1?"Down":v.velocityY<-1?"Up":null;if(u){g.el.trigger("swipe");g.el.trigger("swipe"+u)}}).on("touchstart MSPointerDown pointerdown",function(u){if((r=b(u,"down"))&&!k(u)){return}s=r?u:u.touches[0];if(u.touches&&u.touches.length===1&&g.x2){g.x2=undefined;g.y2=undefined}q=Date.now();t=q-(g.last||q);g.el=i("tagName" in s.target?s.target:s.target.parentNode);c&&clearTimeout(c);g.x1=s.pageX;g.y1=s.pageY;if(t>0&&t<=250){g.isDoubleTap=true}g.last=q;a=setTimeout(n,e);if(m&&r){m.addPointer(u.pointerId)}}).on("touchmove MSPointerMove pointermove",function(u){if((r=b(u,"move"))&&!k(u)){return}s=r?u:u.touches[0];d();g.x2=s.pageX;g.y2=s.pageY;p+=Math.abs(g.x1-g.x2);o+=Math.abs(g.y1-g.y2)}).on("touchend MSPointerUp pointerup",function(u){if((r=b(u,"up"))&&!k(u)){return}d();if((g.x2&&Math.abs(g.x1-g.x2)>30)||(g.y2&&Math.abs(g.y1-g.y2)>30)){h=setTimeout(function(){g.el.trigger("swipe");g.el.trigger("swipe"+(j(g.x1,g.x2,g.y1,g.y2)));g={}},0)}else{if("last" in g){if(p<30&&o<30){l=setTimeout(function(){var v=i.Event("tap");v.cancelTouch=f;g.el.trigger(v);if(g.isDoubleTap){if(g.el){g.el.trigger("doubleTap")}g={}}else{c=setTimeout(function(){c=null;if(g.el){g.el.trigger("singleTap")}g={}},250)}},0)}else{g={}}}}p=o=0}).on("touchcancel MSPointerCancel pointercancel",f);i(window).on("scroll",f)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(o){i.fn[o]=function(p){return this.on(o,p)}})})(Zepto);(function(d,f){var n="",s,m={Webkit:"webkit",Moz:"",O:"o"},a=document.createElement("div"),l=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,j,o,i,k,e,h,r,p,b,q={};function c(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function g(t){return s?s+t:t.toLowerCase()}d.each(m,function(u,t){if(a.style[u+"TransitionProperty"]!==f){n="-"+u.toLowerCase()+"-";s=t;return false}});j=n+"transform";q[o=n+"transition-property"]=q[i=n+"transition-duration"]=q[e=n+"transition-delay"]=q[k=n+"transition-timing-function"]=q[h=n+"animation-name"]=q[r=n+"animation-duration"]=q[b=n+"animation-delay"]=q[p=n+"animation-timing-function"]="";d.fx={off:(s===f&&a.style.transitionProperty===f),speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:g("TransitionEnd"),animationEnd:g("AnimationEnd")};d.fn.animate=function(u,v,w,x,t){if(d.isFunction(v)){x=v,w=f,v=f}if(d.isFunction(w)){x=w,w=f}if(d.isPlainObject(v)){w=v.easing,x=v.complete,t=v.delay,v=v.duration}if(v){v=(typeof v=="number"?v:(d.fx.speeds[v]||d.fx.speeds._default))/1000}if(t){t=parseFloat(t)/1000}return this.anim(u,v,w,x,t)};d.fn.anim=function(B,w,v,D,x){var C,z={},F,A="",y=this,u,E=d.fx.transitionEnd,t=false;if(w===f){w=d.fx.speeds._default/1000}if(x===f){x=0}if(d.fx.off){w=0}if(typeof B=="string"){z[h]=B;z[r]=w+"s";z[b]=x+"s";z[p]=(v||"linear");E=d.fx.animationEnd}else{F=[];for(C in B){if(l.test(C)){A+=C+"("+B[C]+") "}else{z[C]=B[C],F.push(c(C))}}if(A){z[j]=A,F.push(j)}if(w>0&&typeof B==="object"){z[o]=F.join(", ");z[i]=w+"s";z[e]=x+"s";z[k]=(v||"linear")}}u=function(G){if(typeof G!=="undefined"){if(G.target!==G.currentTarget){return}d(G.target).unbind(E,u)}else{d(this).unbind(E,u)}t=true;d(this).css(q);D&&D.call(this)};if(w>0){this.bind(E,u);setTimeout(function(){if(t){return}u.call(y)},((w+x)*1000)+25)}this.size()&&this.get(0).clientLeft;this.css(z);if(w<=0){setTimeout(function(){y.each(function(){u.call(this)})},0)}return this};a=null})(Zepto);(function(){var w=this;var k=w._;var D={};var C=Array.prototype,f=Object.prototype,r=Function.prototype;var H=C.push,o=C.slice,y=C.concat,d=f.toString,j=f.hasOwnProperty;var L=C.forEach,q=C.map,E=C.reduce,c=C.reduceRight,b=C.filter,B=C.every,p=C.some,n=C.indexOf,l=C.lastIndexOf,u=Array.isArray,e=Object.keys,F=r.bind;var M=function(N){if(N instanceof M){return N}if(!(this instanceof M)){return new M(N)}this._wrapped=N};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=M}exports._=M}else{w._=M}M.VERSION="1.4.3";var I=M.each=M.forEach=function(S,R,Q){if(S==null){return}if(L&&S.forEach===L){S.forEach(R,Q)}else{if(S.length===+S.length){for(var P=0,N=S.length;P<N;P++){if(R.call(Q,S[P],P,S)===D){return}}}else{for(var O in S){if(M.has(S,O)){if(R.call(Q,S[O],O,S)===D){return}}}}}};M.map=M.collect=function(Q,P,O){var N=[];if(Q==null){return N}if(q&&Q.map===q){return Q.map(P,O)}I(Q,function(T,R,S){N[N.length]=P.call(O,T,R,S)});return N};var g="Reduce of empty array with no initial value";M.reduce=M.foldl=M.inject=function(R,Q,N,P){var O=arguments.length>2;if(R==null){R=[]}if(E&&R.reduce===E){if(P){Q=M.bind(Q,P)}return O?R.reduce(Q,N):R.reduce(Q)}I(R,function(U,S,T){if(!O){N=U;O=true}else{N=Q.call(P,N,U,S,T)}});if(!O){throw new TypeError(g)}return N};M.reduceRight=M.foldr=function(T,Q,N,P){var O=arguments.length>2;if(T==null){T=[]}if(c&&T.reduceRight===c){if(P){Q=M.bind(Q,P)}return O?T.reduceRight(Q,N):T.reduceRight(Q)}var S=T.length;if(S!==+S){var R=M.keys(T);S=R.length}I(T,function(W,U,V){U=R?R[--S]:--S;if(!O){N=T[U];O=true}else{N=Q.call(P,N,T[U],U,V)}});if(!O){throw new TypeError(g)}return N};M.find=M.detect=function(Q,P,O){var N;A(Q,function(T,R,S){if(P.call(O,T,R,S)){N=T;return true}});return N};M.filter=M.select=function(Q,P,O){var N=[];if(Q==null){return N}if(b&&Q.filter===b){return Q.filter(P,O)}I(Q,function(T,R,S){if(P.call(O,T,R,S)){N[N.length]=T}});return N};M.reject=function(P,O,N){return M.filter(P,function(S,Q,R){return !O.call(N,S,Q,R)},N)};M.every=M.all=function(Q,P,O){P||(P=M.identity);var N=true;if(Q==null){return N}if(B&&Q.every===B){return Q.every(P,O)}I(Q,function(T,R,S){if(!(N=N&&P.call(O,T,R,S))){return D}});return !!N};var A=M.some=M.any=function(Q,P,O){P||(P=M.identity);var N=false;if(Q==null){return N}if(p&&Q.some===p){return Q.some(P,O)}I(Q,function(T,R,S){if(N||(N=P.call(O,T,R,S))){return D}});return !!N};M.contains=M.include=function(O,N){if(O==null){return false}if(n&&O.indexOf===n){return O.indexOf(N)!=-1}return A(O,function(P){return P===N})};M.invoke=function(O,P){var N=o.call(arguments,2);return M.map(O,function(Q){return(M.isFunction(P)?P:Q[P]).apply(Q,N)})};M.pluck=function(O,N){return M.map(O,function(P){return P[N]})};M.where=function(O,N){if(M.isEmpty(N)){return[]}return M.filter(O,function(Q){for(var P in N){if(N[P]!==Q[P]){return false}}return true})};M.max=function(Q,P,O){if(!P&&M.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.max.apply(Math,Q)}if(!P&&M.isEmpty(Q)){return -Infinity}var N={computed:-Infinity,value:-Infinity};I(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S>=N.computed&&(N={value:U,computed:S})});return N.value};M.min=function(Q,P,O){if(!P&&M.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.min.apply(Math,Q)}if(!P&&M.isEmpty(Q)){return Infinity}var N={computed:Infinity,value:Infinity};I(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S<N.computed&&(N={value:U,computed:S})});return N.value};M.shuffle=function(Q){var P;var O=0;var N=[];I(Q,function(R){P=M.random(O++);N[O-1]=N[P];N[P]=R});return N};var a=function(N){return M.isFunction(N)?N:function(O){return O[N]}};M.sortBy=function(Q,P,N){var O=a(P);return M.pluck(M.map(Q,function(T,R,S){return{value:T,index:R,criteria:O.call(N,T,R,S)}}).sort(function(U,T){var S=U.criteria;var R=T.criteria;if(S!==R){if(S>R||S===void 0){return 1}if(S<R||R===void 0){return -1}}return U.index<T.index?-1:1}),"value")};var t=function(S,R,O,Q){var N={};var P=a(R||M.identity);I(S,function(V,T){var U=P.call(O,V,T,S);Q(N,U,V)});return N};M.groupBy=function(P,O,N){return t(P,O,N,function(Q,R,S){(M.has(Q,R)?Q[R]:(Q[R]=[])).push(S)})};M.countBy=function(P,O,N){return t(P,O,N,function(Q,R){if(!M.has(Q,R)){Q[R]=0}Q[R]++})};M.sortedIndex=function(U,T,Q,P){Q=Q==null?M.identity:a(Q);var S=Q.call(P,T);var N=0,R=U.length;while(N<R){var O=(N+R)>>>1;Q.call(P,U[O])<S?N=O+1:R=O}return N};M.toArray=function(N){if(!N){return[]}if(M.isArray(N)){return o.call(N)}if(N.length===+N.length){return M.map(N,M.identity)}return M.values(N)};M.size=function(N){if(N==null){return 0}return(N.length===+N.length)?N.length:M.keys(N).length};M.first=M.head=M.take=function(P,O,N){if(P==null){return void 0}return(O!=null)&&!N?o.call(P,0,O):P[0]};M.initial=function(P,O,N){return o.call(P,0,P.length-((O==null)||N?1:O))};M.last=function(P,O,N){if(P==null){return void 0}if((O!=null)&&!N){return o.call(P,Math.max(P.length-O,0))}else{return P[P.length-1]}};M.rest=M.tail=M.drop=function(P,O,N){return o.call(P,(O==null)||N?1:O)};M.compact=function(N){return M.filter(N,M.identity)};var x=function(O,P,N){I(O,function(Q){if(M.isArray(Q)){P?H.apply(N,Q):x(Q,P,N)}else{N.push(Q)}});return N};M.flatten=function(O,N){return x(O,N,[])};M.without=function(N){return M.difference(N,o.call(arguments,1))};M.uniq=M.unique=function(T,S,R,Q){if(M.isFunction(S)){Q=R;R=S;S=false}var O=R?M.map(T,R,Q):T;var P=[];var N=[];I(O,function(V,U){if(S?(!U||N[N.length-1]!==V):!M.contains(N,V)){N.push(V);P.push(T[U])}});return P};M.union=function(){return M.uniq(y.apply(C,arguments))};M.intersection=function(O){var N=o.call(arguments,1);return M.filter(M.uniq(O),function(P){return M.every(N,function(Q){return M.indexOf(Q,P)>=0})})};M.difference=function(O){var N=y.apply(C,o.call(arguments,1));return M.filter(O,function(P){return !M.contains(N,P)})};M.zip=function(){var N=o.call(arguments);var Q=M.max(M.pluck(N,"length"));var P=new Array(Q);for(var O=0;O<Q;O++){P[O]=M.pluck(N,""+O)}return P};M.object=function(R,P){if(R==null){return{}}var N={};for(var Q=0,O=R.length;Q<O;Q++){if(P){N[R[Q]]=P[Q]}else{N[R[Q][0]]=R[Q][1]}}return N};M.indexOf=function(R,P,Q){if(R==null){return -1}var O=0,N=R.length;if(Q){if(typeof Q=="number"){O=(Q<0?Math.max(0,N+Q):Q)}else{O=M.sortedIndex(R,P);return R[O]===P?O:-1}}if(n&&R.indexOf===n){return R.indexOf(P,Q)}for(;O<N;O++){if(R[O]===P){return O}}return -1};M.lastIndexOf=function(R,P,Q){if(R==null){return -1}var N=Q!=null;if(l&&R.lastIndexOf===l){return N?R.lastIndexOf(P,Q):R.lastIndexOf(P)}var O=(N?Q:R.length);while(O--){if(R[O]===P){return O}}return -1};M.range=function(S,Q,R){if(arguments.length<=1){Q=S||0;S=0}R=arguments[2]||1;var O=Math.max(Math.ceil((Q-S)/R),0);var N=0;var P=new Array(O);while(N<O){P[N++]=S;S+=R}return P};var G=function(){};M.bind=function(Q,O){var N,P;if(Q.bind===F&&F){return F.apply(Q,o.call(arguments,1))}if(!M.isFunction(Q)){throw new TypeError}N=o.call(arguments,2);return P=function(){if(!(this instanceof P)){return Q.apply(O,N.concat(o.call(arguments)))}G.prototype=Q.prototype;var S=new G;G.prototype=null;var R=Q.apply(S,N.concat(o.call(arguments)));if(Object(R)===R){return R}return S}};M.bindAll=function(O){var N=o.call(arguments,1);if(N.length===0){N=M.functions(O)}I(N,function(P){O[P]=M.bind(O[P],O)});return O};M.memoize=function(P,O){var N={};O||(O=M.identity);return function(){var Q=O.apply(this,arguments);return M.has(N,Q)?N[Q]:(N[Q]=P.apply(this,arguments))}};M.delay=function(O,P){var N=o.call(arguments,2);return setTimeout(function(){return O.apply(null,N)},P)};M.defer=function(N){return M.delay.apply(M,[N,1].concat(o.call(arguments,1)))};M.throttle=function(S,U){var Q,P,T,N;var R=0;var O=function(){R=new Date;T=null;N=S.apply(Q,P)};return function(){var V=new Date;var W=U-(V-R);Q=this;P=arguments;if(W<=0){clearTimeout(T);T=null;R=V;N=S.apply(Q,P)}else{if(!T){T=setTimeout(O,W)}}return N}};M.debounce=function(P,R,O){var Q,N;return function(){var V=this,U=arguments;var T=function(){Q=null;if(!O){N=P.apply(V,U)}};var S=O&&!Q;clearTimeout(Q);Q=setTimeout(T,R);if(S){N=P.apply(V,U)}return N}};M.once=function(P){var N=false,O;return function(){if(N){return O}N=true;O=P.apply(this,arguments);P=null;return O}};M.wrap=function(N,O){return function(){var P=[N];H.apply(P,arguments);return O.apply(this,P)}};M.compose=function(){var N=arguments;return function(){var O=arguments;for(var P=N.length-1;P>=0;P--){O=[N[P].apply(this,O)]}return O[0]}};M.after=function(O,N){if(O<=0){return N()}return function(){if(--O<1){return N.apply(this,arguments)}}};M.keys=e||function(P){if(P!==Object(P)){throw new TypeError("Invalid object")}var O=[];for(var N in P){if(M.has(P,N)){O[O.length]=N}}return O};M.values=function(P){var N=[];for(var O in P){if(M.has(P,O)){N.push(P[O])}}return N};M.pairs=function(P){var O=[];for(var N in P){if(M.has(P,N)){O.push([N,P[N]])}}return O};M.invert=function(P){var N={};for(var O in P){if(M.has(P,O)){N[P[O]]=O}}return N};M.functions=M.methods=function(P){var O=[];for(var N in P){if(M.isFunction(P[N])){O.push(N)}}return O.sort()};M.extend=function(N){I(o.call(arguments,1),function(O){if(O){for(var P in O){N[P]=O[P]}}});return N};M.pick=function(O){var P={};var N=y.apply(C,o.call(arguments,1));I(N,function(Q){if(Q in O){P[Q]=O[Q]}});return P};M.omit=function(P){var Q={};var O=y.apply(C,o.call(arguments,1));for(var N in P){if(!M.contains(O,N)){Q[N]=P[N]}}return Q};M.defaults=function(N){I(o.call(arguments,1),function(O){if(O){for(var P in O){if(N[P]==null){N[P]=O[P]}}}});return N};M.clone=function(N){if(!M.isObject(N)){return N}return M.isArray(N)?N.slice():M.extend({},N)};M.tap=function(O,N){N(O);return O};var J=function(U,T,O,P){if(U===T){return U!==0||1/U==1/T}if(U==null||T==null){return U===T}if(U instanceof M){U=U._wrapped}if(T instanceof M){T=T._wrapped}var R=d.call(U);if(R!=d.call(T)){return false}switch(R){case"[object String]":return U==String(T);case"[object Number]":return U!=+U?T!=+T:(U==0?1/U==1/T:U==+T);case"[object Date]":case"[object Boolean]":return +U==+T;case"[object RegExp]":return U.source==T.source&&U.global==T.global&&U.multiline==T.multiline&&U.ignoreCase==T.ignoreCase}if(typeof U!="object"||typeof T!="object"){return false}var N=O.length;while(N--){if(O[N]==U){return P[N]==T}}O.push(U);P.push(T);var W=0,X=true;if(R=="[object Array]"){W=U.length;X=W==T.length;if(X){while(W--){if(!(X=J(U[W],T[W],O,P))){break}}}}else{var S=U.constructor,Q=T.constructor;if(S!==Q&&!(M.isFunction(S)&&(S instanceof S)&&M.isFunction(Q)&&(Q instanceof Q))){return false}for(var V in U){if(M.has(U,V)){W++;if(!(X=M.has(T,V)&&J(U[V],T[V],O,P))){break}}}if(X){for(V in T){if(M.has(T,V)&&!(W--)){break}}X=!W}}O.pop();P.pop();return X};M.isEqual=function(O,N){return J(O,N,[],[])};M.isEmpty=function(O){if(O==null){return true}if(M.isArray(O)||M.isString(O)){return O.length===0}for(var N in O){if(M.has(O,N)){return false}}return true};M.isElement=function(N){return !!(N&&N.nodeType===1)};M.isArray=u||function(N){return d.call(N)=="[object Array]"};M.isObject=function(N){return N===Object(N)};I(["Arguments","Function","String","Number","Date","RegExp"],function(N){M["is"+N]=function(O){return d.call(O)=="[object "+N+"]"}});if(!M.isArguments(arguments)){M.isArguments=function(N){return !!(N&&M.has(N,"callee"))}}if(typeof(/./)!=="function"){M.isFunction=function(N){return typeof N==="function"}}M.isFinite=function(N){return isFinite(N)&&!isNaN(parseFloat(N))};M.isNaN=function(N){return M.isNumber(N)&&N!=+N};M.isBoolean=function(N){return N===true||N===false||d.call(N)=="[object Boolean]"};M.isNull=function(N){return N===null};M.isUndefined=function(N){return N===void 0};M.has=function(O,N){return j.call(O,N)};M.noConflict=function(){w._=k;return this};M.identity=function(N){return N};M.times=function(R,Q,P){var N=Array(R);for(var O=0;O<R;O++){N[O]=Q.call(P,O)}return N};M.random=function(O,N){if(N==null){N=O;O=0}return O+(0|Math.random()*(N-O+1))};var m={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};m.unescape=M.invert(m.escape);var K={escape:new RegExp("["+M.keys(m.escape).join("")+"]","g"),unescape:new RegExp("("+M.keys(m.unescape).join("|")+")","g")};M.each(["escape","unescape"],function(N){M[N]=function(O){if(O==null){return""}return(""+O).replace(K[N],function(P){return m[N][P]})}});M.result=function(N,P){if(N==null){return null}var O=N[P];return M.isFunction(O)?O.call(N):O};M.mixin=function(N){I(M.functions(N),function(O){var P=M[O]=N[O];M.prototype[O]=function(){var Q=[this._wrapped];H.apply(Q,arguments);return s.call(this,P.apply(M,Q))}})};var z=0;M.uniqueId=function(N){var O=""+(++z);return N?N+O:O};M.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var v=/(.)^/;var h={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var i=/\\|'|\r|\n|\t|\u2028|\u2029/g;M.template=function(V,Q,P){var O;P=M.defaults({},P,M.templateSettings);var R=new RegExp([(P.escape||v).source,(P.interpolate||v).source,(P.evaluate||v).source].join("|")+"|$","g");var S=0;var N="__p+='";V.replace(R,function(X,Y,W,aa,Z){N+=V.slice(S,Z).replace(i,function(ab){return"\\"+h[ab]});if(Y){N+="'+\n((__t=("+Y+"))==null?'':_.escape(__t))+\n'"}if(W){N+="'+\n((__t=("+W+"))==null?'':__t)+\n'"}if(aa){N+="';\n"+aa+"\n__p+='"}S=Z+X.length;return X});N+="';\n";if(!P.variable){N="with(obj||{}){\n"+N+"}\n"}N="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+N+"return __p;\n";try{O=new Function(P.variable||"obj","_",N)}catch(T){T.source=N;throw T}if(Q){return O(Q,M)}var U=function(W){return O.call(this,W,M)};U.source="function("+(P.variable||"obj")+"){\n"+N+"}";return U};M.chain=function(N){return M(N).chain()};var s=function(N){return this._chain?M(N).chain():N};M.mixin(M);I(["pop","push","reverse","shift","sort","splice","unshift"],function(N){var O=C[N];M.prototype[N]=function(){var P=this._wrapped;O.apply(P,arguments);if((N=="shift"||N=="splice")&&P.length===0){delete P[0]}return s.call(this,P)}});I(["concat","join","slice"],function(N){var O=C[N];M.prototype[N]=function(){return s.call(this,O.apply(this._wrapped,arguments))}});M.extend(M.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(a,b){if(typeof define==="function"&&define.amd){define(["underscore","jquery","exports"],function(e,f,d){a.Backbone=b(a,d,e,f)})}else{if(typeof exports!=="undefined"){var c=require("underscore");b(a,exports,c)}else{a.Backbone=b(a,{},a._,(a.jQuery||a.Zepto||a.ender||a.$))}}}(this,function(v,B,N,z){var D=v.Backbone;var g=[];var F=g.push;var o=g.slice;var u=g.splice;B.VERSION="1.1.2";B.$=z;B.noConflict=function(){v.Backbone=D;return this};B.emulateHTTP=false;B.emulateJSON=false;var L=B.Events={on:function(O,R,Q){if(!y(this,"on",O,[R,Q])||!R){return this}this._events||(this._events={});var P=this._events[O]||(this._events[O]=[]);P.push({callback:R,context:Q,ctx:Q||this});return this},once:function(P,S,Q){if(!y(this,"once",P,[S,Q])||!S){return this}var O=this;var R=N.once(function(){O.off(P,R);S.apply(this,arguments)});R._callback=S;return this.on(P,R,Q)},off:function(O,X,P){var V,W,Y,U,T,Q,S,R;if(!this._events||!y(this,"off",O,[X,P])){return this}if(!O&&!X&&!P){this._events=void 0;return this}U=O?[O]:N.keys(this._events);for(T=0,Q=U.length;T<Q;T++){O=U[T];if(Y=this._events[O]){this._events[O]=V=[];if(X||P){for(S=0,R=Y.length;S<R;S++){W=Y[S];if((X&&X!==W.callback&&X!==W.callback._callback)||(P&&P!==W.context)){V.push(W)}}}if(!V.length){delete this._events[O]}}}return this},trigger:function(Q){if(!this._events){return this}var P=o.call(arguments,1);if(!y(this,"trigger",Q,P)){return this}var R=this._events[Q];var O=this._events.all;if(R){b(R,P)}if(O){b(O,arguments)}return this},stopListening:function(R,P,T){var Q=this._listeningTo;if(!Q){return this}var O=!P&&!T;if(!T&&typeof P==="object"){T=this}if(R){(Q={})[R._listenId]=R}for(var S in Q){R=Q[S];R.off(P,T,this);if(O||N.isEmpty(R._events)){delete this._listeningTo[S]}}return this}};var x=/\s+/;var y=function(V,T,P,S){if(!P){return true}if(typeof P==="object"){for(var R in P){V[T].apply(V,[R,P[R]].concat(S))}return false}if(x.test(P)){var U=P.split(x);for(var Q=0,O=U.length;Q<O;Q++){V[T].apply(V,[U[Q]].concat(S))}return false}return true};var b=function(T,R){var U,S=-1,Q=T.length,P=R[0],O=R[1],V=R[2];switch(R.length){case 0:while(++S<Q){(U=T[S]).callback.call(U.ctx)}return;case 1:while(++S<Q){(U=T[S]).callback.call(U.ctx,P)}return;case 2:while(++S<Q){(U=T[S]).callback.call(U.ctx,P,O)}return;case 3:while(++S<Q){(U=T[S]).callback.call(U.ctx,P,O,V)}return;default:while(++S<Q){(U=T[S]).callback.apply(U.ctx,R)}return}};var E={listenTo:"on",listenToOnce:"once"};N.each(E,function(O,P){L[P]=function(S,Q,U){var R=this._listeningTo||(this._listeningTo={});var T=S._listenId||(S._listenId=N.uniqueId("l"));R[T]=S;if(!U&&typeof Q==="object"){U=this}S[O](Q,U,this);return this}});L.bind=L.on;L.unbind=L.off;N.extend(B,L);var G=B.Model=function(O,Q){var P=O||{};Q||(Q={});this.cid=N.uniqueId("c");this.attributes={};if(Q.collection){this.collection=Q.collection}if(Q.parse){P=this.parse(P,Q)||{}}P=N.defaults({},P,N.result(this,"defaults"));this.set(P,Q);this.changed={};this.initialize.apply(this,arguments)};N.extend(G.prototype,L,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(O){return N.clone(this.attributes)},sync:function(){return B.sync.apply(this,arguments)},get:function(O){return this.attributes[O]},escape:function(O){return N.escape(this.get(O))},has:function(O){return this.get(O)!=null},set:function(W,O,aa){var U,X,Y,V,T,Z,Q,S;if(W==null){return this}if(typeof W==="object"){X=W;aa=O}else{(X={})[W]=O}aa||(aa={});if(!this._validate(X,aa)){return false}Y=aa.unset;T=aa.silent;V=[];Z=this._changing;this._changing=true;if(!Z){this._previousAttributes=N.clone(this.attributes);this.changed={}}S=this.attributes,Q=this._previousAttributes;if(this.idAttribute in X){this.id=X[this.idAttribute]}for(U in X){O=X[U];if(!N.isEqual(S[U],O)){V.push(U)}if(!N.isEqual(Q[U],O)){this.changed[U]=O}else{delete this.changed[U]}Y?delete S[U]:S[U]=O}if(!T){if(V.length){this._pending=aa}for(var R=0,P=V.length;R<P;R++){this.trigger("change:"+V[R],this,S[V[R]],aa)}}if(Z){return this}if(!T){while(this._pending){aa=this._pending;this._pending=false;this.trigger("change",this,aa)}}this._pending=false;this._changing=false;return this},unset:function(O,P){return this.set(O,void 0,N.extend({},P,{unset:true}))},clear:function(P){var O={};for(var Q in this.attributes){O[Q]=void 0}return this.set(O,N.extend({},P,{unset:true}))},hasChanged:function(O){if(O==null){return !N.isEmpty(this.changed)}return N.has(this.changed,O)},changedAttributes:function(Q){if(!Q){return this.hasChanged()?N.clone(this.changed):false}var S,R=false;var P=this._changing?this._previousAttributes:this.attributes;for(var O in Q){if(N.isEqual(P[O],(S=Q[O]))){continue}(R||(R={}))[O]=S}return R},previous:function(O){if(O==null||!this._previousAttributes){return null}return this._previousAttributes[O]},previousAttributes:function(){return N.clone(this._previousAttributes)},fetch:function(P){P=P?N.clone(P):{};if(P.parse===void 0){P.parse=true}var O=this;var Q=P.success;P.success=function(R){if(!O.set(O.parse(R,P),P)){return false}if(Q){Q(O,R,P)}O.trigger("sync",O,R,P)};J(this,P);return this.sync("read",this,P)},save:function(S,P,W){var T,O,V,Q=this.attributes;if(S==null||typeof S==="object"){T=S;W=P}else{(T={})[S]=P}W=N.extend({validate:true},W);if(T&&!W.wait){if(!this.set(T,W)){return false}}else{if(!this._validate(T,W)){return false}}if(T&&W.wait){this.attributes=N.extend({},Q,T)}if(W.parse===void 0){W.parse=true}var R=this;var U=W.success;W.success=function(Y){R.attributes=Q;var X=R.parse(Y,W);if(W.wait){X=N.extend(T||{},X)}if(N.isObject(X)&&!R.set(X,W)){return false}if(U){U(R,Y,W)}R.trigger("sync",R,Y,W)};J(this,W);O=this.isNew()?"create":(W.patch?"patch":"update");if(O==="patch"){W.attrs=T}V=this.sync(O,this,W);if(T&&W.wait){this.attributes=Q}return V},destroy:function(P){P=P?N.clone(P):{};var O=this;var S=P.success;var Q=function(){O.trigger("destroy",O,O.collection,P)};P.success=function(T){if(P.wait||O.isNew()){Q()}if(S){S(O,T,P)}if(!O.isNew()){O.trigger("sync",O,T,P)}};if(this.isNew()){P.success();return false}J(this,P);var R=this.sync("delete",this,P);if(!P.wait){Q()}return R},url:function(){var O=N.result(this,"urlRoot")||N.result(this.collection,"url")||s();if(this.isNew()){return O}return O.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(P,O){return P},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return !this.has(this.idAttribute)},isValid:function(O){return this._validate({},N.extend(O||{},{validate:true}))},_validate:function(Q,P){if(!P.validate||!this.validate){return true}Q=N.extend({},this.attributes,Q);var O=this.validationError=this.validate(Q,P)||null;if(!O){return true}this.trigger("invalid",this,O,N.extend(P,{validationError:O}));return false}});var a=["keys","values","pairs","invert","pick","omit"];N.each(a,function(O){G.prototype[O]=function(){var P=o.call(arguments);P.unshift(this.attributes);return N[O].apply(N,P)}});var c=B.Collection=function(P,O){O||(O={});if(O.model){this.model=O.model}if(O.comparator!==void 0){this.comparator=O.comparator}this._reset();this.initialize.apply(this,arguments);if(P){this.reset(P,N.extend({silent:true},O))}};var p={add:true,remove:true,merge:true};var M={add:true,remove:false};N.extend(c.prototype,L,{model:G,initialize:function(){},toJSON:function(O){return this.map(function(P){return P.toJSON(O)})},sync:function(){return B.sync.apply(this,arguments)},add:function(P,O){return this.set(P,N.extend({merge:false},O,M))},remove:function(U,R){var T=!N.isArray(U);U=T?[U]:N.clone(U);R||(R={});var S,O,Q,P;for(S=0,O=U.length;S<O;S++){P=U[S]=this.get(U[S]);if(!P){continue}delete this._byId[P.id];delete this._byId[P.cid];Q=this.indexOf(P);this.models.splice(Q,1);this.length--;if(!R.silent){R.index=Q;P.trigger("remove",P,this,R)}this._removeReference(P,R)}return T?U[0]:U},set:function(ah,P){P=N.defaults({},P,p);if(P.parse){ah=this.parse(ah,P)}var S=!N.isArray(ah);ah=S?(ah?[ah]:[]):N.clone(ah);var ad,ab,X,Q,Z,W,ag;var U=P.at;var af=this.model;var O=this.comparator&&(U==null)&&P.sort!==false;var ae=N.isString(this.comparator)?this.comparator:null;var aj=[],aa=[],Y={};var V=P.add,R=P.merge,ai=P.remove;var ac=!O&&V&&ai?[]:false;for(ad=0,ab=ah.length;ad<ab;ad++){Z=ah[ad]||{};if(Z instanceof G){X=Q=Z}else{X=Z[af.prototype.idAttribute||"id"]}if(W=this.get(X)){if(ai){Y[W.cid]=true}if(R){Z=Z===Q?Q.attributes:Z;if(P.parse){Z=W.parse(Z,P)}W.set(Z,P);if(O&&!ag&&W.hasChanged(ae)){ag=true}}ah[ad]=W}else{if(V){Q=ah[ad]=this._prepareModel(Z,P);if(!Q){continue}aj.push(Q);this._addReference(Q,P)}}Q=W||Q;if(ac&&(Q.isNew()||!Y[Q.id])){ac.push(Q)}Y[Q.id]=true}if(ai){for(ad=0,ab=this.length;ad<ab;++ad){if(!Y[(Q=this.models[ad]).cid]){aa.push(Q)}}if(aa.length){this.remove(aa,P)}}if(aj.length||(ac&&ac.length)){if(O){ag=true}this.length+=aj.length;if(U!=null){for(ad=0,ab=aj.length;ad<ab;ad++){this.models.splice(U+ad,0,aj[ad])}}else{if(ac){this.models.length=0}var T=ac||aj;for(ad=0,ab=T.length;ad<ab;ad++){this.models.push(T[ad])}}}if(ag){this.sort({silent:true})}if(!P.silent){for(ad=0,ab=aj.length;ad<ab;ad++){(Q=aj[ad]).trigger("add",Q,this,P)}if(ag||(ac&&ac.length)){this.trigger("sort",this,P)}}return S?ah[0]:ah},reset:function(R,P){P||(P={});for(var Q=0,O=this.models.length;Q<O;Q++){this._removeReference(this.models[Q],P)}P.previousModels=this.models;this._reset();R=this.add(R,N.extend({silent:true},P));if(!P.silent){this.trigger("reset",this,P)}return R},push:function(P,O){return this.add(P,N.extend({at:this.length},O))},pop:function(P){var O=this.at(this.length-1);this.remove(O,P);return O},unshift:function(P,O){return this.add(P,N.extend({at:0},O))},shift:function(P){var O=this.at(0);this.remove(O,P);return O},slice:function(){return o.apply(this.models,arguments)},get:function(O){if(O==null){return void 0}return this._byId[O]||this._byId[O.id]||this._byId[O.cid]},at:function(O){return this.models[O]},where:function(O,P){if(N.isEmpty(O)){return P?void 0:[]}return this[P?"find":"filter"](function(Q){for(var R in O){if(O[R]!==Q.get(R)){return false}}return true})},findWhere:function(O){return this.where(O,true)},sort:function(O){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}O||(O={});if(N.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(N.bind(this.comparator,this))}if(!O.silent){this.trigger("sort",this,O)}return this},pluck:function(O){return N.invoke(this.models,"get",O)},fetch:function(O){O=O?N.clone(O):{};if(O.parse===void 0){O.parse=true}var Q=O.success;var P=this;O.success=function(R){var S=O.reset?"reset":"set";P[S](R,O);if(Q){Q(P,R,O)}P.trigger("sync",P,R,O)};J(this,O);return this.sync("read",this,O)},create:function(P,O){O=O?N.clone(O):{};if(!(P=this._prepareModel(P,O))){return false}if(!O.wait){this.add(P,O)}var R=this;var Q=O.success;O.success=function(S,T){if(O.wait){R.add(S,O)}if(Q){Q(S,T,O)}};P.save(null,O);return P},parse:function(P,O){return P},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(Q,P){if(Q instanceof G){return Q}P=P?N.clone(P):{};P.collection=this;var O=new this.model(Q,P);if(!O.validationError){return O}this.trigger("invalid",this,O.validationError,P);return false},_addReference:function(P,O){this._byId[P.cid]=P;if(P.id!=null){this._byId[P.id]=P}if(!P.collection){P.collection=this}P.on("all",this._onModelEvent,this)},_removeReference:function(P,O){if(this===P.collection){delete P.collection}P.off("all",this._onModelEvent,this)},_onModelEvent:function(Q,P,R,O){if((Q==="add"||Q==="remove")&&R!==this){return}if(Q==="destroy"){this.remove(P,O)}if(P&&Q==="change:"+P.idAttribute){delete this._byId[P.previous(P.idAttribute)];if(P.id!=null){this._byId[P.id]=P}}this.trigger.apply(this,arguments)}});var A=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];N.each(A,function(O){c.prototype[O]=function(){var P=o.call(arguments);P.unshift(this.models);return N[O].apply(N,P)}});var l=["groupBy","countBy","sortBy","indexBy"];N.each(l,function(O){c.prototype[O]=function(R,P){var Q=N.isFunction(R)?R:function(S){return S.get(R)};return N[O](this.models,Q,P)}});var I=B.View=function(O){this.cid=N.uniqueId("view");O||(O={});N.extend(this,N.pick(O,e));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var w=/^(\S+)\s*(.*)$/;var e=["model","collection","el","id","attributes","className","tagName","events"];N.extend(I.prototype,L,{tagName:"div",$:function(O){return this.$el.find(O)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(O,P){if(this.$el){this.undelegateEvents()}this.$el=O instanceof B.$?O:B.$(O);this.el=this.$el[0];if(P!==false){this.delegateEvents()}return this},delegateEvents:function(S){if(!(S||(S=N.result(this,"events")))){return this}this.undelegateEvents();for(var R in S){var T=S[R];if(!N.isFunction(T)){T=this[S[R]]}if(!T){continue}var Q=R.match(w);var P=Q[1],O=Q[2];T=N.bind(T,this);P+=".delegateEvents"+this.cid;if(O===""){this.$el.on(P,T)}else{this.$el.on(P,O,T)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var O=N.extend({},N.result(this,"attributes"));if(this.id){O.id=N.result(this,"id")}if(this.className){O["class"]=N.result(this,"className")}var P=B.$("<"+N.result(this,"tagName")+">").attr(O);this.setElement(P,false)}else{this.setElement(N.result(this,"el"),false)}}});B.sync=function(U,P,O){var R=k[U];N.defaults(O||(O={}),{emulateHTTP:B.emulateHTTP,emulateJSON:B.emulateJSON});var T={type:R,dataType:"json"};if(!O.url){T.url=N.result(P,"url")||s()}if(O.data==null&&P&&(U==="create"||U==="update"||U==="patch")){T.contentType="application/json";T.data=JSON.stringify(O.attrs||P.toJSON(O))}if(O.emulateJSON){T.contentType="application/x-www-form-urlencoded";T.data=T.data?{model:T.data}:{}}if(O.emulateHTTP&&(R==="PUT"||R==="DELETE"||R==="PATCH")){T.type="POST";if(O.emulateJSON){T.data._method=R}var Q=O.beforeSend;O.beforeSend=function(V){V.setRequestHeader("X-HTTP-Method-Override",R);if(Q){return Q.apply(this,arguments)}}}if(T.type!=="GET"&&!O.emulateJSON){T.processData=false}if(T.type==="PATCH"&&j){T.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var S=O.xhr=B.ajax(N.extend(T,O));P.trigger("request",P,S,O);return S};var j=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};B.ajax=function(){return B.$.ajax.apply(B.$,arguments)};var q=B.Router=function(O){O||(O={});if(O.routes){this.routes=O.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var r=/\((.*?)\)/g;var t=/(\(\?)?:\w+/g;var d=/\*\w+/g;var h=/[\-{}\[\]+?.,\\\^$|#\s]/g;N.extend(q.prototype,L,{initialize:function(){},route:function(P,Q,R){if(!N.isRegExp(P)){P=this._routeToRegExp(P)}if(N.isFunction(Q)){R=Q;Q=""}if(!R){R=this[Q]}var O=this;B.history.route(P,function(T){var S=O._extractParameters(P,T);O.execute(R,S);O.trigger.apply(O,["route:"+Q].concat(S));O.trigger("route",Q,S);B.history.trigger("route",O,Q,S)});return this},execute:function(P,O){if(P){P.apply(this,O)}},navigate:function(P,O){B.history.navigate(P,O);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=N.result(this,"routes");var P,O=N.keys(this.routes);while((P=O.pop())!=null){this.route(P,this.routes[P])}},_routeToRegExp:function(O){O=O.replace(h,"\\$&").replace(r,"(?:$1)?").replace(t,function(Q,P){return P?Q:"([^/?]+)"}).replace(d,"([^?]*?)");return new RegExp("^"+O+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(O,P){var Q=O.exec(P).slice(1);return N.map(Q,function(S,R){if(R===Q.length-1){return S||null}return S?decodeURIComponent(S):null})}});var i=B.History=function(){this.handlers=[];N.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var C=/^[#\/]|\s+$/g;var f=/^\/+|\/+$/g;var K=/msie [\w.]+/;var n=/\/$/;var H=/#.*$/;i.started=false;N.extend(i.prototype,L,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(P){var O=(P||this).location.href.match(/#(.*)$/);return O?O[1]:""},getFragment:function(Q,P){if(Q==null){if(this._hasPushState||!this._wantsHashChange||P){Q=decodeURI(this.location.pathname+this.location.search);var O=this.root.replace(n,"");if(!Q.indexOf(O)){Q=Q.slice(O.length)}}else{Q=this.getHash()}}return Q.replace(C,"")},start:function(Q){if(i.started){throw new Error("Backbone.history has already been started")}i.started=true;this.options=N.extend({root:"/"},this.options,Q);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var P=this.getFragment();var O=document.documentMode;var R=(K.exec(navigator.userAgent.toLowerCase())&&(!O||O<=7));this.root=("/"+this.root+"/").replace(f,"/");if(R&&this._wantsHashChange){var T=B.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=T.hide().appendTo("body")[0].contentWindow;this.navigate(P)}if(this._hasPushState){B.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!R){B.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=P;var S=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){this.fragment=this.getFragment(null,true);this.location.replace(this.root+"#"+this.fragment);return true}else{if(this._hasPushState&&this.atRoot()&&S.hash){this.fragment=this.getHash().replace(C,"");this.history.replaceState({},document.title,this.root+this.fragment)}}}if(!this.options.silent){return this.loadUrl()}},stop:function(){B.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);if(this._checkUrlInterval){clearInterval(this._checkUrlInterval)}i.started=false},route:function(O,P){this.handlers.unshift({route:O,callback:P})},checkUrl:function(P){var O=this.getFragment();if(O===this.fragment&&this.iframe){O=this.getFragment(this.getHash(this.iframe))}if(O===this.fragment){return false}if(this.iframe){this.navigate(O)}this.loadUrl()},loadUrl:function(O){O=this.fragment=this.getFragment(O);return N.any(this.handlers,function(P){if(P.route.test(O)){P.callback(O);return true}})},navigate:function(Q,P){if(!i.started){return false}if(!P||P===true){P={trigger:!!P}}var O=this.root+(Q=this.getFragment(Q||""));Q=Q.replace(H,"");if(this.fragment===Q){return}this.fragment=Q;if(Q===""&&O!=="/"){O=O.slice(0,-1)}if(this._hasPushState){this.history[P.replace?"replaceState":"pushState"]({},document.title,O)}else{if(this._wantsHashChange){this._updateHash(this.location,Q,P.replace);if(this.iframe&&(Q!==this.getFragment(this.getHash(this.iframe)))){if(!P.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,Q,P.replace)}}else{return this.location.assign(O)}}if(P.trigger){return this.loadUrl(Q)}},_updateHash:function(O,Q,R){if(R){var P=O.href.replace(/(javascript:|#).*$/,"");O.replace(P+"#"+Q)}else{O.hash="#"+Q}}});B.history=new i;var m=function(O,Q){var P=this;var S;if(O&&N.has(O,"constructor")){S=O.constructor}else{S=function(){return P.apply(this,arguments)}}N.extend(S,P,Q);var R=function(){this.constructor=S};R.prototype=P.prototype;S.prototype=new R;if(O){N.extend(S.prototype,O)}S.__super__=P.prototype;return S};G.extend=c.extend=q.extend=I.extend=i.extend=m;var s=function(){throw new Error('A "url" property or function must be specified')};var J=function(Q,P){var O=P.error;P.error=function(R){if(O){O(Q,R,P)}Q.trigger("error",Q,R,P)}};return B}));var requirejs,require,define;(function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.11",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!!(typeof window!=="undefined"&&typeof navigator!=="undefined"&&window.document),isWebWorker=!isBrowser&&typeof importScripts!=="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=false;function isFunction(it){return ostring.call(it)==="[object Function]"}function isArray(it){return ostring.call(it)==="[object Array]"}function each(ary,func){if(ary){var i;for(i=0;i<ary.length;i+=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1;i-=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function hasProp(obj,prop){return hasOwn.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop;for(prop in obj){if(hasProp(obj,prop)){if(func(obj[prop],prop)){break}}}}function mixin(target,source,force,deepStringMixin){if(source){eachProp(source,function(value,prop){if(force||!hasProp(target,prop)){if(deepStringMixin&&typeof value==="object"&&value&&!isArray(value)&&!isFunction(value)&&!(value instanceof RegExp)){if(!target[prop]){target[prop]={}}mixin(target[prop],value,force,deepStringMixin)}else{target[prop]=value}}})}return target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(err){throw err}function getGlobal(value){if(!value){return value}var g=global;each(value.split("."),function(part){g=g[part]});return g}function makeError(id,msg,err,requireModules){var e=new Error(msg+"\nhttp://requirejs.org/docs/errors.html#"+id);e.requireType=id;e.requireModules=requireModules;if(err){e.originalError=err}return e}if(typeof define!=="undefined"){return}if(typeof requirejs!=="undefined"){if(isFunction(requirejs)){return}cfg=requirejs;requirejs=undefined}if(typeof require!=="undefined"&&!isFunction(require)){cfg=require;require=undefined}function newContext(contextName){var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},registry={},enabledRegistry={},undefEvents={},defQueue=[],defined={},urlFetched={},bundlesMap={},requireCounter=1,unnormalizedCounter=1;function trimDots(ary){var i,part,length=ary.length;for(i=0;i<length;i++){part=ary[i];if(part==="."){ary.splice(i,1);i-=1}else{if(part===".."){if(i===1&&(ary[2]===".."||ary[0]==="..")){break}else{if(i>0){ary.splice(i-1,2);i-=2}}}}}}function normalize(name,baseName,applyMap){var pkgMain,mapValue,nameParts,i,j,nameSegment,lastIndex,foundMap,foundI,foundStarMap,starI,baseParts=baseName&&baseName.split("/"),normalizedBaseParts=baseParts,map=config.map,starMap=map&&map["*"];if(name&&name.charAt(0)==="."){if(baseName){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=name.split("/");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")}name=normalizedBaseParts.concat(name);trimDots(name);name=name.join("/")}else{if(name.indexOf("./")===0){name=name.substring(2)}}}if(applyMap&&map&&(baseParts||starMap)){nameParts=name.split("/");outerLoop:for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=getOwn(map,baseParts.slice(0,j).join("/"));if(mapValue){mapValue=getOwn(mapValue,nameSegment);if(mapValue){foundMap=mapValue;foundI=i;break outerLoop}}}}if(!foundStarMap&&starMap&&getOwn(starMap,nameSegment)){foundStarMap=getOwn(starMap,nameSegment);starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}pkgMain=getOwn(config.pkgs,name);return pkgMain?pkgMain:name}function removeScript(name){if(isBrowser){each(scripts(),function(scriptNode){if(scriptNode.getAttribute("data-requiremodule")===name&&scriptNode.getAttribute("data-requirecontext")===context.contextName){scriptNode.parentNode.removeChild(scriptNode);return true}})}}function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1){pathConfig.shift();context.require.undef(id);context.require([id]);return true}}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=true,normalizedName="";if(!name){isDefine=false;name="_@r"+(requireCounter+=1)}nameParts=splitPrefix(name);prefix=nameParts[0];name=nameParts[1];if(prefix){prefix=normalize(prefix,parentName,applyMap);pluginModule=getOwn(defined,prefix)}if(name){if(prefix){if(pluginModule&&pluginModule.normalize){normalizedName=pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)})}else{normalizedName=normalize(name,parentName,applyMap)}}else{normalizedName=normalize(name,parentName,applyMap);nameParts=splitPrefix(normalizedName);prefix=nameParts[0];normalizedName=nameParts[1];isNormalized=true;url=context.nameToUrl(normalizedName)}}suffix=prefix&&!pluginModule&&!isNormalized?"_unnormalized"+(unnormalizedCounter+=1):"";return{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+"!"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);if(!mod){mod=registry[id]=new context.Module(depMap)}return mod}function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id);if(hasProp(defined,id)&&(!mod||mod.defineEmitComplete)){if(name==="defined"){fn(defined[id])}}else{mod=getModule(depMap);if(mod.error&&name==="error"){fn(mod.error)}else{mod.on(name,fn)}}}function onError(err,errback){var ids=err.requireModules,notified=false;if(errback){errback(err)}else{each(ids,function(id){var mod=getOwn(registry,id);if(mod){mod.error=err;if(mod.events.error){notified=true;mod.emit("error",err)}}});if(!notified){req.onError(err)}}}function takeGlobalQueue(){if(globalDefQueue.length){apsp.apply(defQueue,[defQueue.length,0].concat(globalDefQueue));globalDefQueue=[]}}handlers={require:function(mod){if(mod.require){return mod.require}else{return(mod.require=context.makeRequire(mod.map))}},exports:function(mod){mod.usingExports=true;if(mod.map.isDefine){if(mod.exports){return(defined[mod.map.id]=mod.exports)}else{return(mod.exports=defined[mod.map.id]={})}}},module:function(mod){if(mod.module){return mod.module}else{return(mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return getOwn(config.config,mod.map.id)||{}},exports:mod.exports||(mod.exports={})})}}};function cleanRegistry(id){delete registry[id];delete enabledRegistry[id]}function breakCycle(mod,traced,processed){var id=mod.map.id;if(mod.error){mod.emit("error",mod.error)}else{traced[id]=true;each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);if(dep&&!mod.depMatched[i]&&!processed[depId]){if(getOwn(traced,depId)){mod.defineDep(i,defined[depId]);mod.check()}else{breakCycle(dep,traced,processed)}}});processed[id]=true}}function checkLoaded(){var err,usingPathFallback,waitInterval=config.waitSeconds*1000,expired=waitInterval&&(context.startTime+waitInterval)<new Date().getTime(),noLoads=[],reqCalls=[],stillLoading=false,needCycleCheck=true;if(inCheckLoaded){return}inCheckLoaded=true;eachProp(enabledRegistry,function(mod){var map=mod.map,modId=map.id;if(!mod.enabled){return}if(!map.isDefine){reqCalls.push(mod)}if(!mod.error){if(!mod.inited&&expired){if(hasPathFallback(modId)){usingPathFallback=true;stillLoading=true}else{noLoads.push(modId);removeScript(modId)}}else{if(!mod.inited&&mod.fetched&&map.isDefine){stillLoading=true;if(!map.prefix){return(needCycleCheck=false)}}}}});if(expired&&noLoads.length){err=makeError("timeout","Load timeout for modules: "+noLoads,null,noLoads);err.contextName=context.contextName;return onError(err)}if(needCycleCheck){each(reqCalls,function(mod){breakCycle(mod,{},{})})}if((!expired||usingPathFallback)&&stillLoading){if((isBrowser||isWebWorker)&&!checkLoadedTimeoutId){checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0;checkLoaded()},50)}}inCheckLoaded=false}Module=function(map){this.events=getOwn(undefEvents,map.id)||{};this.map=map;this.shim=getOwn(config.shim,map.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};Module.prototype={init:function(depMaps,factory,errback,options){options=options||{};if(this.inited){return}this.factory=factory;if(errback){this.on("error",errback)}else{if(this.events.error){errback=bind(this,function(err){this.emit("error",err)})}}this.depMaps=depMaps&&depMaps.slice(0);this.errback=errback;this.inited=true;this.ignore=options.ignore;if(options.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(i,depExports){if(!this.depMatched[i]){this.depMatched[i]=true;this.depCount-=1;this.depExports[i]=depExports}},fetch:function(){if(this.fetched){return}this.fetched=true;context.startTime=(new Date()).getTime();var map=this.map;if(this.shim){context.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()}))}else{return map.prefix?this.callPlugin():this.load()}},load:function(){var url=this.map.url;if(!urlFetched[url]){urlFetched[url]=true;context.load(this.map.id,url)}},check:function(){if(!this.enabled||this.enabling){return}var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(!this.inited){this.fetch()}else{if(this.error){this.emit("error",this.error)}else{if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(factory)){if((this.events.error&&this.map.isDefine)||req.onError!==defaultOnError){try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}}else{exports=context.execCb(id,factory,depExports,exports)}if(this.map.isDefine&&exports===undefined){cjsModule=this.module;if(cjsModule){exports=cjsModule.exports}else{if(this.usingExports){exports=this.exports}}}if(err){err.requireMap=this.map;err.requireModules=this.map.isDefine?[this.map.id]:null;err.requireType=this.map.isDefine?"define":"require";return onError((this.error=err))}}else{exports=factory}this.exports=exports;if(this.map.isDefine&&!this.ignore){defined[id]=exports;if(req.onResourceLoad){req.onResourceLoad(context,this.map,this.depMaps)}}cleanRegistry(id);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}}}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap);on(pluginMap,"defined",bind(this,function(plugin){var load,normalizedMap,normalizedMod,bundleId=getOwn(bundlesMap,this.map.id),name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(plugin.normalize){name=plugin.normalize(name,function(name){return normalize(name,parentName,true)})||""}normalizedMap=makeModuleMap(map.prefix+"!"+name,this.map.parentMap);on(normalizedMap,"defined",bind(this,function(value){this.init([],function(){return value},null,{enabled:true,ignore:true})}));normalizedMod=getOwn(registry,normalizedMap.id);if(normalizedMod){this.depMaps.push(normalizedMap);if(this.events.error){normalizedMod.on("error",bind(this,function(err){this.emit("error",err)}))}normalizedMod.enable()}return}if(bundleId){this.map.url=context.nameToUrl(bundleId);this.load();return}load=bind(this,function(value){this.init([],function(){return value},null,{enabled:true})});load.error=bind(this,function(err){this.inited=true;this.error=err;err.requireModules=[id];eachProp(registry,function(mod){if(mod.map.id.indexOf(id+"_unnormalized")===0){cleanRegistry(mod.map.id)}});onError(err)});load.fromText=bind(this,function(text,textAlt){var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;if(textAlt){text=textAlt}if(hasInteractive){useInteractive=false}getModule(moduleMap);if(hasProp(config.config,id)){config.config[moduleName]=config.config[id]}try{req.exec(text)}catch(e){return onError(makeError("fromtexteval","fromText eval for "+id+" failed: "+e,e,[id]))}if(hasInteractive){useInteractive=true}this.depMaps.push(moduleMap);context.completeLoad(moduleName);localRequire([moduleName],load)});plugin.load(map.name,localRequire,load,config)}));context.enable(pluginMap,this);this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){enabledRegistry[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if(typeof depMap==="string"){depMap=makeModuleMap(depMap,(this.map.isDefine?this.map:this.map.parentMap),false,!this.skipMap);this.depMaps[i]=depMap;handler=getOwn(handlers,depMap.id);if(handler){this.depExports[i]=handler(this);return}this.depCount+=1;on(depMap,"defined",bind(this,function(depExports){this.defineDep(i,depExports);this.check()}));if(this.errback){on(depMap,"error",bind(this,this.errback))}}id=depMap.id;mod=registry[id];if(!hasProp(handlers,id)&&mod&&!mod.enabled){context.enable(depMap,this)}}));eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);if(mod&&!mod.enabled){context.enable(pluginMap,this)}}));this.enabling=false;this.check()},on:function(name,cb){var cbs=this.events[name];if(!cbs){cbs=this.events[name]=[]}cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)});if(name==="error"){delete this.events[name]}}};function callGetModule(args){if(!hasProp(defined,args[0])){getModule(makeModuleMap(args[0],null,true)).init(args[1],args[2])}}function removeListener(node,func,name,ieName){if(node.detachEvent&&!isOpera){if(ieName){node.detachEvent(ieName,func)}}else{node.removeEventListener(name,func,false)}}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;removeListener(node,context.onScriptLoad,"load","onreadystatechange");removeListener(node,context.onScriptError,"error");return{node:node,id:node&&node.getAttribute("data-requiremodule")}}function intakeDefines(){var args;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){return onError(makeError("mismatch","Mismatched anonymous define() module: "+args[args.length-1]))}else{callGetModule(args)}}}context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,onError:onError,configure:function(cfg){if(cfg.baseUrl){if(cfg.baseUrl.charAt(cfg.baseUrl.length-1)!=="/"){cfg.baseUrl+="/"}}var shim=config.shim,objs={paths:true,bundles:true,config:true,map:true};eachProp(cfg,function(value,prop){if(objs[prop]){if(!config[prop]){config[prop]={}}mixin(config[prop],value,true,true)}else{config[prop]=value}});if(cfg.bundles){eachProp(cfg.bundles,function(value,prop){each(value,function(v){if(v!==prop){bundlesMap[v]=prop}})})}if(cfg.shim){eachProp(cfg.shim,function(value,id){if(isArray(value)){value={deps:value}}if((value.exports||value.init)&&!value.exportsFn){value.exportsFn=context.makeShimExports(value)}shim[id]=value});config.shim=shim}if(cfg.packages){each(cfg.packages,function(pkgObj){var location,name;pkgObj=typeof pkgObj==="string"?{name:pkgObj}:pkgObj;name=pkgObj.name;location=pkgObj.location;if(location){config.paths[name]=pkgObj.location}config.pkgs[name]=pkgObj.name+"/"+(pkgObj.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")})}eachProp(registry,function(mod,id){if(!mod.inited&&!mod.map.unnormalized){mod.map=makeModuleMap(id)}});if(cfg.deps||cfg.callback){context.require(cfg.deps||[],cfg.callback)}},makeShimExports:function(value){function fn(){var ret;if(value.init){ret=value.init.apply(global,arguments)}return ret||(value.exports&&getGlobal(value.exports))}return fn},makeRequire:function(relMap,options){options=options||{};function localRequire(deps,callback,errback){var id,map,requireMod;if(options.enableBuildCallback&&callback&&isFunction(callback)){callback.__requireJsBuild=true}if(typeof deps==="string"){if(isFunction(callback)){return onError(makeError("requireargs","Invalid require call"),errback)}if(relMap&&hasProp(handlers,deps)){return handlers[deps](registry[relMap.id])}if(req.get){return req.get(context,deps,relMap,localRequire)}map=makeModuleMap(deps,relMap,false,true);id=map.id;if(!hasProp(defined,id)){return onError(makeError("notloaded",'Module name "'+id+'" has not been loaded yet for context: '+contextName+(relMap?"":". Use require([])")))}return defined[id]}intakeDefines();context.nextTick(function(){intakeDefines();requireMod=getModule(makeModuleMap(null,relMap));requireMod.skipMap=options.skipMap;requireMod.init(deps,callback,errback,{enabled:true});checkLoaded()});return localRequire}mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,index=moduleNamePlusExt.lastIndexOf("."),segment=moduleNamePlusExt.split("/")[0],isRelative=segment==="."||segment==="..";if(index!==-1&&(!isRelative||index>1)){ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length);moduleNamePlusExt=moduleNamePlusExt.substring(0,index)}return context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,true),ext,true)},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,false,true).id)},specified:function(id){id=makeModuleMap(id,relMap,false,true).id;return hasProp(defined,id)||hasProp(registry,id)}});if(!relMap){localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,true),mod=getOwn(registry,id);removeScript(id);delete defined[id];delete urlFetched[map.url];delete undefEvents[id];eachReverse(defQueue,function(args,i){if(args[0]===id){defQueue.splice(i,1)}});if(mod){if(mod.events.defined){undefEvents[id]=mod.events}cleanRegistry(id)}}}return localRequire},enable:function(depMap){var mod=getOwn(registry,depMap.id);if(mod){getModule(depMap).enable()}},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){args[0]=moduleName;if(found){break}found=true}else{if(args[0]===moduleName){found=true}}callGetModule(args)}mod=getOwn(registry,moduleName);if(!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(config.enforceDefine&&(!shExports||!getGlobal(shExports))){if(hasPathFallback(moduleName)){return}else{return onError(makeError("nodefine","No define call for "+moduleName,null,[moduleName]))}}else{callGetModule([moduleName,(shim.deps||[]),shim.exportsFn])}}checkLoaded()},nameToUrl:function(moduleName,ext,skipExt){var paths,syms,i,parentModule,url,parentPath,bundleId,pkgMain=getOwn(config.pkgs,moduleName);if(pkgMain){moduleName=pkgMain}bundleId=getOwn(bundlesMap,moduleName);if(bundleId){return context.nameToUrl(bundleId,ext,skipExt)}if(req.jsExtRegExp.test(moduleName)){url=moduleName+(ext||"")}else{paths=config.paths;syms=moduleName.split("/");for(i=syms.length;i>0;i-=1){parentModule=syms.slice(0,i).join("/");parentPath=getOwn(paths,parentModule);if(parentPath){if(isArray(parentPath)){parentPath=parentPath[0]}syms.splice(0,i,parentPath);break}}url=syms.join("/");url+=(ext||(/^data\:|\?/.test(url)||skipExt?"":".js"));url=(url.charAt(0)==="/"||url.match(/^[\w\+\.\-]+:/)?"":config.baseUrl)+url}return config.urlArgs?url+((url.indexOf("?")===-1?"?":"&")+config.urlArgs):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){if(evt.type==="load"||(readyRegExp.test((evt.currentTarget||evt.srcElement).readyState))){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id)){return onError(makeError("scripterror","Script error for: "+data.id,evt,[data.id]))}}};context.require=context.makeRequire();return context}req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;if(!isArray(deps)&&typeof deps!=="string"){config=deps;if(isArray(callback)){deps=callback;callback=errback;errback=optional}else{deps=[]}}if(config&&config.context){contextName=config.context}context=getOwn(contexts,contextName);if(!context){context=contexts[contextName]=req.s.newContext(contextName)}if(config){context.configure(config)}return context.require(deps,callback,errback)};req.config=function(config){return req(config)};req.nextTick=typeof setTimeout!=="undefined"?function(fn){setTimeout(fn,4)}:function(fn){fn()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=defaultOnError;req.createNode=function(config,moduleName,url){var node=config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");node.type=config.scriptType||"text/javascript";node.charset="utf-8";node.async=true;return node};req.load=function(context,moduleName,url){var config=(context&&context.config)||{},node;if(isBrowser){node=req.createNode(config,moduleName,url);node.setAttribute("data-requirecontext",context.contextName);node.setAttribute("data-requiremodule",moduleName);if(node.attachEvent&&!(node.attachEvent.toString&&node.attachEvent.toString().indexOf("[native code")<0)&&!isOpera){useInteractive=true;node.attachEvent("onreadystatechange",context.onScriptLoad)}else{node.addEventListener("load",context.onScriptLoad,false);node.addEventListener("error",context.onScriptError,false)}node.src=url;currentlyAddingScript=node;if(baseElement){head.insertBefore(node,baseElement)}else{head.appendChild(node)}currentlyAddingScript=null;return node}else{if(isWebWorker){try{importScripts(url);context.completeLoad(moduleName)}catch(e){context.onError(makeError("importscripts","importScripts failed for "+moduleName+" at "+url,e,[moduleName]))}}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState==="interactive"){return interactiveScript}eachReverse(scripts(),function(script){if(script.readyState==="interactive"){return(interactiveScript=script)}});return interactiveScript}if(isBrowser&&!cfg.skipDataMain){eachReverse(scripts(),function(script){if(!head){head=script.parentNode}dataMain=script.getAttribute("data-main");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl){src=mainScript.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");if(req.jsExtRegExp.test(mainScript)){mainScript=dataMain}cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}})}define=function(name,deps,callback){var node,context;if(typeof name!=="string"){callback=deps;deps=name;name=null}if(!isArray(deps)){callback=deps;deps=null}if(!deps&&isFunction(callback)){deps=[];if(callback.length){callback.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(match,dep){deps.push(dep)});deps=(callback.length===1?["require"]:["require","exports","module"]).concat(deps)}}if(useInteractive){node=currentlyAddingScript||getInteractiveScript();if(node){if(!name){name=node.getAttribute("data-requiremodule")}context=contexts[node.getAttribute("data-requirecontext")]}}(context?context.defQueue:globalDefQueue).push([name,deps,callback])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)}(this));define("zepto",(function(a){return function(){var b,c;return b||a.$}}(this)));define("underscore",(function(a){return function(){var b,c;return b||a._}}(this)));define("backbone",(function(a){return function(){var b,c;return b||a.Backbone}}(this)));