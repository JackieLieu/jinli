(function(c){var h=c.zepto.qsa,o={},e=1,k={},t={mouseenter:"mouseover",mouseleave:"mouseout"};k.click=k.mousedown=k.mouseup=k.mousemove="MouseEvents";function a(v){return v._zid||(v._zid=e++)}function i(w,y,x,v){y=n(y);if(y.ns){var z=s(y.ns)}return(o[a(w)]||[]).filter(function(A){return A&&(!y.e||A.e==y.e)&&(!y.ns||z.test(A.ns))&&(!x||a(A.fn)===a(x))&&(!v||A.sel==v)})}function n(v){var w=(""+v).split(".");return{e:w[0],ns:w.slice(1).sort().join(" ")}}function s(v){return new RegExp("(?:^| )"+v.replace(" "," .* ?")+"(?: |$)")}function r(v,x,w){if(c.type(v)!="string"){c.each(v,w)}else{v.split(/\s/).forEach(function(y){w(y,x)})}}function f(v,w){return v.del&&(v.e=="focus"||v.e=="blur")||!!w}function q(v){return t[v]||v}function l(z,y,A,w,v,x){var C=a(z),B=(o[C]||(o[C]=[]));r(y,A,function(F,E){var D=n(F);D.fn=E;D.sel=w;if(D.e in t){E=function(I){var H=I.relatedTarget;if(!H||(H!==this&&!c.contains(this,H))){return D.fn.apply(this,arguments)}}}D.del=v&&v(E,F);var G=D.del||E;D.proxy=function(I){var H=G.apply(z,[I].concat(I.data));if(H===false){I.preventDefault(),I.stopPropagation()}return H};D.i=B.length;B.push(D);z.addEventListener(q(D.e),D.proxy,f(D,x))})}function u(y,x,z,v,w){var A=a(y);r(x||"",z,function(C,B){i(y,C,B,v).forEach(function(D){delete o[A][D.i];y.removeEventListener(q(D.e),D.proxy,f(D,w))})})}c.event={add:l,remove:u};c.proxy=function(x,w){if(c.isFunction(x)){var v=function(){return x.apply(w,arguments)};v._zid=a(x);return v}else{if(typeof w=="string"){return c.proxy(x[w],x)}else{throw new TypeError("expected function")}}};c.fn.bind=function(v,w){return this.each(function(){l(this,v,w)})};c.fn.unbind=function(v,w){return this.each(function(){u(this,v,w)})};c.fn.one=function(v,w){return this.each(function(y,x){l(this,v,w,null,function(A,z){return function(){var B=A.apply(x,arguments);u(x,z,A);return B}})})};var p=function(){return true},g=function(){return false},d=/^([A-Z]|layer[XY]$)/,j={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function b(x){var w,v={originalEvent:x};for(w in x){if(!d.test(w)&&x[w]!==undefined){v[w]=x[w]}}c.each(j,function(z,y){v[z]=function(){this[y]=p;return x[z].apply(x,arguments)};v[y]=g});return v}function m(w){if(!("defaultPrevented" in w)){w.defaultPrevented=false;var v=w.preventDefault;w.preventDefault=function(){this.defaultPrevented=true;v.call(this)}}}c.fn.delegate=function(v,w,x){return this.each(function(z,y){l(y,w,x,v,function(A){return function(D){var B,C=c(D.target).closest(v,y).get(0);if(C){B=c.extend(b(D),{currentTarget:C,liveFired:y});return A.apply(C,[B].concat([].slice.call(arguments,1)))}}})})};c.fn.undelegate=function(v,w,x){return this.each(function(){u(this,w,x,v)})};c.fn.live=function(v,w){c(document.body).delegate(this.selector,v,w);return this};c.fn.die=function(v,w){c(document.body).undelegate(this.selector,v,w);return this};c.fn.on=function(w,v,x){return !v||c.isFunction(v)?this.bind(w,v||x):this.delegate(v,w,x)};c.fn.off=function(w,v,x){return !v||c.isFunction(v)?this.unbind(w,v||x):this.undelegate(v,w,x)};c.fn.trigger=function(v,w){if(typeof v=="string"||c.isPlainObject(v)){v=c.Event(v)}m(v);v.data=w;return this.each(function(){if("dispatchEvent" in this){this.dispatchEvent(v)}})};c.fn.triggerHandler=function(w,x){var y,v;this.each(function(A,z){y=b(typeof w=="string"?c.Event(w):w);y.data=x;y.target=z;c.each(i(z,w.type||w),function(B,C){v=C.proxy(y);if(y.isImmediatePropagationStopped()){return false}})});return v};("focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error").split(" ").forEach(function(v){c.fn[v]=function(w){return w?this.bind(v,w):this.trigger(v)}});["focus","blur"].forEach(function(v){c.fn[v]=function(w){if(w){this.bind(v,w)}else{this.each(function(){try{this[v]()}catch(x){}})}return this}});c.Event=function(y,x){if(typeof y!="string"){x=y,y=x.type}var z=document.createEvent(k[y]||"Events"),v=true;if(x){for(var w in x){(w=="bubbles")?(v=!!x[w]):(z[w]=x[w])}}z.initEvent(y,v,true,null,null,null,null,null,null,null,null,null,null,null,null);z.isDefaultPrevented=function(){return this.defaultPrevented};return z}})(Zepto);
